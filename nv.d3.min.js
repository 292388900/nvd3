(function(){var c={version:"0.0.1a",dev:true};window.nv=c;c.tooltip={};c.utils={};c.models={};c.charts={};c.graphs=[];c.logs={};c.dispatch=d3.dispatch("render_start","render_end");if(c.dev){c.dispatch.on("render_start",function(f){c.logs.startTime=+new Date()});c.dispatch.on("render_end",function(f){c.logs.endTime=+new Date();c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)})}c.log=function(){if(c.dev&&console.log&&console.log.apply){console.log.apply(console,arguments)}return arguments[arguments.length-1]};c.render=function d(e){e=e||1;d.active=true;c.dispatch.render_start();setTimeout(function(){var g;for(var f=0;f<e&&(graph=d.queue[f]);f++){g=graph.generate();if(typeof graph.callback==typeof(Function)){graph.callback(g)}c.graphs.push(g)}d.queue.splice(0,f);if(d.queue.length){setTimeout(arguments.callee,0)}else{c.render.active=false;c.dispatch.render_end()}},0)};c.render.active=false;c.render.queue=[];c.addGraph=function(e){if(typeof arguments[0]===typeof(Function)){e={generate:arguments[0],callback:arguments[1]}}c.render.queue.push(e);if(!c.render.active){c.render()}};c.identity=function(e){return e};c.strip=function(e){return e.replace(/(\s|&)/g,"")};function b(f,e){return(new Date(e,f+1,0)).getDate()}function a(g,f,e){return function(m,l,i){var n=g(m),o=[];if(n<m){f(n)}if(i>1){while(n<l){var h=new Date(+n);if((e(h)%i===0)){o.push(h)}f(n)}}else{while(n<l){o.push(new Date(+n));f(n)}}return o}}d3.time.monthEnd=function(e){return new Date(e.getFullYear(),e.getMonth(),0)};d3.time.monthEnds=a(d3.time.monthEnd,function(e){e.setUTCDate(e.getUTCDate()+1);e.setDate(b(e.getMonth()+1,e.getFullYear()))},function(e){return e.getMonth()});(function(){var e=window.nv.tooltip={};e.show=function(u,r,w,s,g,p){var h=document.createElement("div");h.className="nvtooltip "+(p?p:"xy-tooltip");w=w||"s";s=s||20;var q=g?g:document.getElementsByTagName("body")[0];h.innerHTML=r;h.style.left=0;h.style.top=0;h.style.opacity=0;q.appendChild(h);var v=parseInt(h.offsetHeight),i=parseInt(h.offsetWidth),m=c.utils.windowSize().width,f=c.utils.windowSize().height,l=q.scrollTop,o=q.scrollLeft,n,t;switch(w){case"e":n=u[0]-i-s;t=u[1]-(v/2);if(n<o){n=u[0]+s}if(t<l){t=l+5}if(t+v>l+f){t=l-v-5}break;case"w":n=u[0]+s;t=u[1]-(v/2);if(n+i>m){n=u[0]-i-s}if(t<l){t=l+5}if(t+v>l+f){t=l-v-5}break;case"n":n=u[0]-(i/2);t=u[1]+s;if(n<o){n=o+5}if(n+i>m){n=m-i-5}if(t+v>l+f){t=u[1]-v-s}break;case"s":n=u[0]-(i/2);t=u[1]-v-s;if(n<o){n=o+5}if(n+i>m){n=m-i-5}if(l>t){t=u[1]+20}break}h.style.left=n+"px";h.style.top=t+"px";h.style.opacity=1;h.style.position="absolute";h.style.pointerEvents="none";return h};e.cleanup=function(){var f=document.getElementsByClassName("nvtooltip");var g=[];while(f.length){g.push(f[0]);f[0].style.transitionDelay="0 !important";f[0].style.opacity=0;f[0].className="nvtooltip-pending-removal"}setTimeout(function(){while(g.length){var h=g.pop();h.parentNode.removeChild(h)}},500)}})();c.utils.windowSize=function(){var e={width:640,height:480};if(document.body&&document.body.offsetWidth){e.width=document.body.offsetWidth;e.height=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){e.width=document.documentElement.offsetWidth;e.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){e.width=window.innerWidth;e.height=window.innerHeight}return(e)};c.utils.windowResize=function(e){var f=window.onresize;window.onresize=function(g){if(typeof f=="function"){f(g)}e(g)}};c.utils.getColor=function(e){if(!arguments.length){return c.utils.defaultColor()}if(Object.prototype.toString.call(e)==="[object Array]"){return function(g,f){return g.color||e[f%e.length]}}else{return e}};c.utils.defaultColor=function(){var e=d3.scale.category20().range();return function(g,f){return g.color||e[f%e.length]}};c.utils.pjax=function(e,f){d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href);g(this.href);d3.event.preventDefault()});function g(h){d3.html(h,function(i){var l=d3.select(f).node();l.parentNode.replaceChild(d3.select(i).select(f).node(),l);c.utils.pjax(e,f)})}d3.select(window).on("popstate",function(){if(d3.event.state){g(d3.event.state)}})};c.models.axis=function(){var n={top:0,right:0,bottom:0,left:0},f=60,s=60,m=d3.scale.linear(),o=null,h=true,l=true,e=0,g=true,r=null;var i=d3.svg.axis().scale(m).orient("bottom"),p;function q(t){t.each(function(F){var v=d3.select(this);var y=v.selectAll("g.nv-wrap.nv-axis").data([F]);var B=y.enter().append("g").attr("class","nvd3 nv-wrap nv-axis");var u=B.append("g");var H=y.select("g");if(r!==null){i.ticks(r)}else{if(i.orient()=="top"||i.orient()=="bottom"){i.ticks(Math.abs(m.range()[1]-m.range()[0])/100)}}d3.transition(H).call(i);p=p||i.scale();var A=i.tickFormat();if(A==null){A=p.tickFormat()}var z=H.selectAll("text.nv-axislabel").data([o||null]);z.exit().remove();switch(i.orient()){case"top":z.enter().append("text").attr("class","nv-axislabel").attr("text-anchor","middle").attr("y",0);var J=(m.range().length==2)?m.range()[1]:(m.range()[m.range().length-1]+(m.range()[1]-m.range()[0]));z.attr("x",J/2);if(h){var G=y.selectAll("g.nv-axisMaxMin").data(m.domain());G.enter().append("g").attr("class","nv-axisMaxMin").append("text");G.exit().remove();G.attr("transform",function(K,w){return"translate("+m(K)+",0)"}).select("text").attr("dy","0em").attr("y",-i.tickPadding()).attr("text-anchor","middle").text(function(L,K){var w=A(L);return(""+w).match("NaN")?"":w});d3.transition(G).attr("transform",function(K,w){return"translate("+m.range()[w]+",0)"})}break;case"bottom":var E=30;var x=30;if(e%360){var C=H.selectAll("g").select("text");C.each(function(L,w){var K=this.getBBox().width;if(K>x){x=K}});var I=Math.abs(Math.sin(e*Math.PI/180));var E=(I?I*x:x)+30;C.attr("transform",function(L,K,w){return"rotate("+e+" 0,0)"}).attr("text-anchor",e%360>0?"start":"end")}z.enter().append("text").attr("class","nv-axislabel").attr("text-anchor","middle").attr("y",E);var J=(m.range().length==2)?m.range()[1]:(m.range()[m.range().length-1]+(m.range()[1]-m.range()[0]));z.attr("x",J/2);if(h){var G=y.selectAll("g.nv-axisMaxMin").data(m.domain());G.enter().append("g").attr("class","nv-axisMaxMin").append("text");G.exit().remove();G.attr("transform",function(K,w){return"translate("+m(K)+",0)"}).select("text").attr("dy",".71em").attr("y",i.tickPadding()).attr("transform",function(L,K,w){return"rotate("+e+" 0,0)"}).attr("text-anchor",e%360>0?"start":"end").text(function(L,K){var w=A(L);return(""+w).match("NaN")?"":w});d3.transition(G).attr("transform",function(K,w){return"translate("+m.range()[w]+",0)"})}break;case"right":z.enter().append("text").attr("class","nv-axislabel").attr("text-anchor",g?"middle":"begin").attr("transform",g?"rotate(90)":"").attr("y",g?(-Math.max(n.right,f)-12):-10);z.attr("x",g?(m.range()[0]/2):i.tickPadding());if(h){var G=y.selectAll("g.nv-axisMaxMin").data(m.domain());G.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);G.exit().remove();G.attr("transform",function(K,w){return"translate(0,"+m(K)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",i.tickPadding()).attr("text-anchor","start").text(function(L,K){var w=A(L);return(""+w).match("NaN")?"":w});d3.transition(G).attr("transform",function(K,w){return"translate(0,"+m.range()[w]+")"}).select("text").style("opacity",1)}break;case"left":z.enter().append("text").attr("class","nv-axislabel").attr("text-anchor",g?"middle":"end").attr("transform",g?"rotate(-90)":"").attr("y",g?(-Math.max(n.left,f)+12):-10);z.attr("x",g?(-m.range()[0]/2):-i.tickPadding());if(h){var G=y.selectAll("g.nv-axisMaxMin").data(m.domain());G.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);G.exit().remove();G.attr("transform",function(K,w){return"translate(0,"+p(K)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-i.tickPadding()).attr("text-anchor","end").text(function(L,K){var w=A(L);return(""+w).match("NaN")?"":w});d3.transition(G).attr("transform",function(K,w){return"translate(0,"+m.range()[w]+")"}).select("text").style("opacity",1)}break}z.text(function(w){return w});if(h&&(i.orient()==="left"||i.orient()==="right")){H.selectAll("g").each(function(K,w){if(m(K)<m.range()[1]+10||m(K)>m.range()[0]-10){if(K>1e-10||K<-1e-10){d3.select(this).remove()}else{d3.select(this).select("text").remove()}}})}if(h&&(i.orient()==="top"||i.orient()==="bottom")){var D=[];y.selectAll("g.nv-axisMaxMin").each(function(K,w){if(w){D.push(m(K)-this.getBBox().width-4)}else{D.push(m(K)+this.getBBox().width+4)}});H.selectAll("g").each(function(K,w){if(m(K)<D[0]||m(K)>D[1]){if(K>1e-10||K<-1e-10){d3.select(this).remove()}else{d3.select(this).select("text").remove()}}})}if(l){H.selectAll("line.tick").filter(function(w){return !parseFloat(Math.round(w*100000)/1000000)}).classed("zero",true)}p=m.copy()});return q}d3.rebind(q,i,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(q,m,"domain","range","rangeBand","rangeBands");q.margin=function(t){if(!arguments.length){return n}n.top=typeof t.top!="undefined"?t.top:n.top;n.right=typeof t.right!="undefined"?t.right:n.right;n.bottom=typeof t.bottom!="undefined"?t.bottom:n.bottom;n.left=typeof t.left!="undefined"?t.left:n.left;return q};q.width=function(t){if(!arguments.length){return f}f=t;return q};q.ticks=function(t){if(!arguments.length){return r}r=t;return q};q.height=function(t){if(!arguments.length){return s}s=t;return q};q.axisLabel=function(t){if(!arguments.length){return o}o=t;return q};q.showMaxMin=function(t){if(!arguments.length){return h}h=t;return q};q.highlightZero=function(t){if(!arguments.length){return l}l=t;return q};q.scale=function(t){if(!arguments.length){return m}m=t;i.scale(m);d3.rebind(q,m,"domain","range","rangeBand","rangeBands");return q};q.rotateYLabel=function(t){if(!arguments.length){return g}g=t;return q};q.rotateLabels=function(t){if(!arguments.length){return e}e=t;return q};return q};c.models.bulletChart=function(){var e=c.models.bullet();var n="left",p=false,l={top:5,right:40,bottom:20,left:120},g=function(w){return w.ranges},m=function(w){return w.markers},f=function(w){return w.measures},h=null,u=55,i=null,r=true,v=function(z,w,C,B,A){return"<h3>"+B.label+"</h3><p>"+B.value+"</p>"},t="No Data Available.",o=d3.dispatch("tooltipShow","tooltipHide");var s=function(A,w){var w=document.getElementById("chart"),z=A.pos[0]+w.offsetLeft+l.left,y=A.pos[1]+w.offsetTop+l.top;var x="<h3>"+A.label+"</h3><p>"+A.value+"</p>";c.tooltip.show([z,y],x,A.value<0?"e":"w",null,w)};function q(w){w.each(function(Q,K){var G=d3.select(this);var x=(h||parseInt(G.style("width"))||960)-l.left-l.right,y=u-l.top-l.bottom,B=this;q.update=function(){q(w)};q.container=this;var T=g.call(this,Q,K).slice().sort(d3.descending),I=m.call(this,Q,K).slice().sort(d3.descending),E=f.call(this,Q,K).slice().sort(d3.descending);var C=G.selectAll("g.nv-wrap.nv-bulletChart").data([Q]);var z=C.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart");var J=z.append("g");var N=C.select("g");J.append("g").attr("class","nv-bulletWrap");J.append("g").attr("class","nv-titles");C.attr("transform","translate("+l.left+","+l.top+")");var O=d3.scale.linear().domain([0,Math.max(T[0],I[0],E[0])]).range(p?[x,0]:[0,x]);var P=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(O.range());this.__chart__=O;var F=function(U){return Math.abs(P(U)-P(0))},D=function(U){return Math.abs(O(U)-O(0))};var S=J.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(u-l.top-l.bottom)/2+")");S.append("text").attr("class","nv-title").text(function(U){return U.title});S.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(U){return U.subtitle});e.width(x).height(y);var R=N.select(".nv-bulletWrap");d3.transition(R).call(e);var M=i||O.tickFormat(8);var L=N.selectAll("g.nv-tick").data(O.ticks(8),function(U){return this.textContent||M(U)});var H=L.enter().append("g").attr("class","nv-tick").attr("transform",function(U){return"translate("+P(U)+",0)"}).style("opacity",0.000001);H.append("line").attr("y1",y).attr("y2",y*7/6);H.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",y*7/6).text(M);d3.transition(H).attr("transform",function(U){return"translate("+O(U)+",0)"}).style("opacity",1);var A=d3.transition(L).attr("transform",function(U){return"translate("+O(U)+",0)"}).style("opacity",1);A.select("line").attr("y1",y).attr("y2",y*7/6);A.select("text").attr("y",y*7/6);d3.transition(L.exit()).attr("transform",function(U){return"translate("+O(U)+",0)"}).style("opacity",0.000001).remove();o.on("tooltipShow",function(U){if(r){s(U,B.parentNode)}})});d3.timer.flush();return q}e.dispatch.on("elementMouseover.tooltip",function(w){o.tooltipShow(w)});e.dispatch.on("elementMouseout.tooltip",function(w){o.tooltipHide(w)});o.on("tooltipHide",function(){if(r){c.tooltip.cleanup()}});q.dispatch=o;q.bullet=e;q.orient=function(w){if(!arguments.length){return n}n=w;p=n=="right"||n=="bottom";return q};q.ranges=function(w){if(!arguments.length){return g}g=w;return q};q.markers=function(w){if(!arguments.length){return m}m=w;return q};q.measures=function(w){if(!arguments.length){return f}f=w;return q};q.width=function(w){if(!arguments.length){return h}h=w;return q};q.height=function(w){if(!arguments.length){return u}u=w;return q};q.margin=function(w){if(!arguments.length){return l}l.top=typeof w.top!="undefined"?w.top:l.top;l.right=typeof w.right!="undefined"?w.right:l.right;l.bottom=typeof w.bottom!="undefined"?w.bottom:l.bottom;l.left=typeof w.left!="undefined"?w.left:l.left;return q};q.tickFormat=function(w){if(!arguments.length){return i}i=w;return q};q.tooltips=function(w){if(!arguments.length){return r}r=w;return q};q.tooltipContent=function(w){if(!arguments.length){return v}v=w;return q};q.noData=function(w){if(!arguments.length){return t}t=w;return q};return q};c.models.bullet=function(){var i={top:0,right:0,bottom:0,left:0},m="left",p=false,f=function(s){return s.ranges},l=function(s){return s.markers},e=function(s){return s.measures},n=[0],g=380,r=30,h=null,o=d3.dispatch("elementMouseover","elementMouseout");function q(s){s.each(function(L,H){var t=g-i.left-i.right,u=r-i.top-i.bottom,D=d3.select(this);var M=f.call(this,L,H).slice().sort(d3.descending),F=l.call(this,L,H).slice().sort(d3.descending),B=e.call(this,L,H).slice().sort(d3.descending);c.log(M,F,B);var J=d3.scale.linear().domain([0,Math.max(M[0],F[0],B[0])]).range(p?[t,0]:[0,t]);var K=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(J.range());this.__chart__=J;var z=D.selectAll("g.nv-wrap.nv-bullet").data([L]);var w=z.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet");var G=w.append("g");var I=z.select("g");z.attr("transform","translate("+i.left+","+i.top+")");var C=function(N){return Math.abs(K(N)-K(0))},A=function(N){return Math.abs(J(N)-J(0))};var E=I.selectAll("rect.nv-range").data(M);E.enter().append("rect").attr("class",function(O,N){return"nv-range nv-s"+N}).attr("width",C).attr("height",u).attr("x",p?K:0).on("mouseover",function(O,N){o.elementMouseover({value:O,label:(N<=0)?"Maximum":(N>1)?"Minimum":"Mean",pos:[J(O),u/2]})}).on("mouseout",function(O,N){o.elementMouseout({value:O,label:(N<=0)?"Minimum":(N>=1)?"Maximum":"Mean"})});d3.transition(E).attr("x",p?J:0).attr("width",A).attr("height",u);var v=I.selectAll("rect.nv-measure").data(B);v.enter().append("rect").attr("class",function(O,N){return"nv-measure nv-s"+N}).attr("width",C).attr("height",u/3).attr("x",p?K:0).attr("y",u/3).on("mouseover",function(N){o.elementMouseover({value:N,label:"Current",pos:[J(N),u/2]})}).on("mouseout",function(N){o.elementMouseout({value:N,label:"Current"})});d3.transition(v).attr("width",A).attr("height",u/3).attr("x",p?J:0).attr("y",u/3);var y=I.selectAll("path.nv-markerTriangle").data(F);var x=u/6;y.enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(N){return"translate("+K(N)+","+(u/2)+")"}).attr("d","M0,"+x+"L"+x+","+(-x)+" "+(-x)+","+(-x)+"Z").on("mouseover",function(O,N){o.elementMouseover({value:O,label:"Previous",pos:[J(O),u/2]})}).on("mouseout",function(O,N){o.elementMouseout({value:O,label:"Previous"})});d3.transition(y).attr("transform",function(N){return"translate("+J(N)+","+(u/2)+")"});y.exit().remove()});d3.timer.flush();return q}q.dispatch=o;q.orient=function(s){if(!arguments.length){return m}m=s;p=m=="right"||m=="bottom";return q};q.ranges=function(s){if(!arguments.length){return f}f=s;return q};q.markers=function(s){if(!arguments.length){return l}l=s;return q};q.measures=function(s){if(!arguments.length){return e}e=s;return q};q.forceX=function(s){if(!arguments.length){return n}n=s;return q};q.width=function(s){if(!arguments.length){return g}g=s;return q};q.height=function(s){if(!arguments.length){return r}r=s;return q};q.margin=function(s){if(!arguments.length){return i}i.top=typeof s.top!="undefined"?s.top:i.top;i.right=typeof s.right!="undefined"?s.right:i.right;i.bottom=typeof s.bottom!="undefined"?s.bottom:i.bottom;i.left=typeof s.left!="undefined"?s.left:i.left;return q};q.tickFormat=function(s){if(!arguments.length){return h}h=s;return q};return q};c.models.cumulativeLineChart=function(){var f=c.models.line(),p=c.models.axis(),e=c.models.axis(),h=c.models.legend(),t=c.models.legend();var v={top:30,right:30,bottom:50,left:60},B=c.utils.defaultColor(),A=null,w=null,D=true,g=true,H=true,o=true,m=function(L,K,O,N,M){return"<h3>"+L+"</h3><p>"+O+" at "+K+"</p>"},r,q,z=f.id(),l="No Data Available.",J=d3.dispatch("tooltipShow","tooltipHide");p.orient("bottom").tickPadding(5);e.orient("left");var s=d3.scale.linear(),n={i:0,x:0};var i=function(P,L){var O=P.pos[0]+(L.offsetLeft||0),N=P.pos[1]+(L.offsetTop||0),K=p.tickFormat()(f.x()(P.point,P.pointIndex)),Q=e.tickFormat()(f.y()(P.point,P.pointIndex)),M=m(P.series.key,K,Q,P,u);c.tooltip.show([O,N],M,null,null,L)};var G=d3.behavior.drag().on("dragstart",F).on("drag",E).on("dragend",C);function F(y,x){}function E(y,x){y.x+=d3.event.dx;y.i=Math.round(s.invert(y.x));d3.select(this).attr("transform","translate("+s(y.i)+",0)")}function C(y,x){u.update()}function u(x){x.each(function(Q){var L=d3.select(this).classed("nv-chart-"+z,true),T=this;var W=(A||parseInt(L.style("width"))||960)-v.left-v.right,O=(w||parseInt(L.style("height"))||400)-v.top-v.bottom;u.update=function(){u(x)};u.container=this;if(!Q||!Q.length||!Q.filter(function(X){return X.values.length}).length){var M=L.selectAll(".nv-noData").data([l]);M.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");M.attr("x",v.left+W/2).attr("y",v.top+O/2).text(function(X){return X});return u}else{L.selectAll(".nv-noData").remove()}r=f.xScale();q=f.yScale();if(!o){var R=Q.filter(function(X){return !X.disabled}).map(function(Z,Y){var X=d3.extent(Z.values,f.y());return[(X[0]-X[1])/(1+X[1]),(X[1]-X[0])/(1+X[0])]});var P=[d3.min(R,function(X){return X[0]}),d3.max(R,function(X){return X[1]})];f.yDomain(P)}else{f.yDomain(null)}s.domain([0,Q[0].values.length-1]).range([0,W]).clamp(true);var Q=I(n.i,Q);var N=L.selectAll("g.nv-wrap.nv-cumulativeLine").data([Q]);var y=N.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g");var S=N.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-linesWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");if(D){h.width(W);S.select(".nv-legendWrap").datum(Q).call(h);if(v.top!=h.height()){v.top=h.height();O=(w||parseInt(L.style("height"))||400)-v.top-v.bottom}S.select(".nv-legendWrap").attr("transform","translate(0,"+(-v.top)+")")}if(H){var U=[{key:"Re-scale y-axis",disabled:!o}];t.width(140).color(["#444","#444","#444"]);S.select(".nv-controlsWrap").datum(U).attr("transform","translate(0,"+(-v.top)+")").call(t)}N.attr("transform","translate("+v.left+","+v.top+")");f.y(function(X){return X.display.y}).width(W).height(O).color(Q.map(function(Y,X){return Y.color||B(Y,X)}).filter(function(Y,X){return !Q[X].disabled}));var K=S.select(".nv-linesWrap").datum(Q.filter(function(X){return !X.disabled}));d3.transition(K).call(f);var V=K.selectAll(".nv-indexLine").data([n]);V.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",0.5).call(G);V.attr("transform",function(X){return"translate("+s(X.i)+",0)"}).attr("height",O);p.scale(r).ticks(W/100).tickSize(-O,0);S.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")");d3.transition(S.select(".nv-x.nv-axis")).call(p);e.scale(q).ticks(O/36).tickSize(-W,0);d3.transition(S.select(".nv-y.nv-axis")).call(e);t.dispatch.on("legendClick",function(Y,X){Y.disabled=!Y.disabled;o=!Y.disabled;x.transition().call(u)});h.dispatch.on("legendClick",function(Y,X){Y.disabled=!Y.disabled;if(!Q.filter(function(Z){return !Z.disabled}).length){Q.map(function(Z){Z.disabled=false;N.selectAll(".nv-series").classed("disabled",false);return Z})}x.transition().call(u)});J.on("tooltipShow",function(X){if(g){i(X,T.parentNode)}})});return u}f.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+v.left,x.pos[1]+v.top];J.tooltipShow(x)});f.dispatch.on("elementMouseout.tooltip",function(x){J.tooltipHide(x)});J.on("tooltipHide",function(){if(g){c.tooltip.cleanup()}});u.dispatch=J;u.lines=f;u.legend=h;u.xAxis=p;u.yAxis=e;d3.rebind(u,f,"defined","isArea","x","y","size","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id");u.margin=function(x){if(!arguments.length){return v}v.top=typeof x.top!="undefined"?x.top:v.top;v.right=typeof x.right!="undefined"?x.right:v.right;v.bottom=typeof x.bottom!="undefined"?x.bottom:v.bottom;v.left=typeof x.left!="undefined"?x.left:v.left;return u};u.width=function(x){if(!arguments.length){return A}A=x;return u};u.height=function(x){if(!arguments.length){return w}w=x;return u};u.color=function(x){if(!arguments.length){return B}B=c.utils.getColor(x);h.color(B);return u};u.showControls=function(x){if(!arguments.length){return H}H=x;return u};u.showLegend=function(x){if(!arguments.length){return D}D=x;return u};u.tooltips=function(x){if(!arguments.length){return g}g=x;return u};u.tooltipContent=function(x){if(!arguments.length){return m}m=x;return u};u.noData=function(x){if(!arguments.length){return l}l=x;return u};function I(x,y){return y.map(function(K,M){var L=f.y()(K.values[x],x);K.values=K.values.map(function(N,O){N.display={y:(f.y()(N,O)-L)/(1+L)};return N});return K})}return u};c.models.discreteBarChart=function(){var t=c.models.discreteBar(),g=c.models.axis(),e=c.models.axis();var h={top:10,right:10,bottom:50,left:60},f=null,u=null,i=c.utils.getColor(),l=false,o=true,v=function(z,w,C,B,A){return"<h3>"+w+"</h3><p>"+C+"</p>"},q,p,s="No Data Available.",m=d3.dispatch("tooltipShow","tooltipHide");g.orient("bottom").highlightZero(false).showMaxMin(false).tickFormat(function(w){return w});e.orient("left").tickFormat(d3.format(",.1f"));var r=function(D,z){var C=D.pos[0]+(z.offsetLeft||0),B=D.pos[1]+(z.offsetTop||0),w=g.tickFormat()(t.x()(D.point,D.pointIndex)),E=e.tickFormat()(t.y()(D.point,D.pointIndex)),A=v(D.series.key,w,E,D,n);c.tooltip.show([C,B],A,D.value<0?"n":"s",null,z)};function n(w){w.each(function(E){var y=d3.select(this),H=this;var I=(f||parseInt(y.style("width"))||960)-h.left-h.right,C=(u||parseInt(y.style("height"))||400)-h.top-h.bottom;n.update=function(){w.transition().call(n)};n.container=this;if(!E||!E.length||!E.filter(function(J){return J.values.length}).length){var z=y.selectAll(".nv-noData").data([s]);z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");z.attr("x",h.left+I/2).attr("y",h.top+C/2).text(function(J){return J});return n}else{y.selectAll(".nv-noData").remove()}q=t.xScale();p=t.yScale();var A=y.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([E]);var x=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g");var B=x.append("defs");var F=A.select("g");x.append("g").attr("class","nv-x nv-axis");x.append("g").attr("class","nv-y nv-axis");x.append("g").attr("class","nv-barsWrap");F.attr("transform","translate("+h.left+","+h.top+")");t.width(I).height(C);var G=F.select(".nv-barsWrap").datum(E.filter(function(J){return !J.disabled}));d3.transition(G).call(t);B.append("clipPath").attr("id","nv-x-label-clip-"+t.id()).append("rect");F.select("#nv-x-label-clip-"+t.id()+" rect").attr("width",q.rangeBand()*(l?2:1)).attr("height",16).attr("x",-q.rangeBand()/(l?1:2));g.scale(q).ticks(I/100).tickSize(-C,0);F.select(".nv-x.nv-axis").attr("transform","translate(0,"+(p.range()[0]+((t.showValues()&&p.domain()[0]<0)?16:0))+")");F.select(".nv-x.nv-axis").transition().duration(0).call(g);var D=F.select(".nv-x.nv-axis").selectAll("g");if(l){D.selectAll("text").attr("transform",function(L,K,J){return"translate(0,"+(J%2==0?"0":"12")+")"})}e.scale(p).ticks(C/36).tickSize(-I,0);d3.transition(F.select(".nv-y.nv-axis")).call(e);m.on("tooltipShow",function(J){if(o){r(J,H.parentNode)}})});return n}t.dispatch.on("elementMouseover.tooltip",function(w){w.pos=[w.pos[0]+h.left,w.pos[1]+h.top];m.tooltipShow(w)});t.dispatch.on("elementMouseout.tooltip",function(w){m.tooltipHide(w)});m.on("tooltipHide",function(){if(o){c.tooltip.cleanup()}});n.dispatch=m;n.discretebar=t;n.xAxis=g;n.yAxis=e;d3.rebind(n,t,"x","y","xDomain","yDomain","forceX","forceY","id","showValues","valueFormat");n.margin=function(w){if(!arguments.length){return h}h.top=typeof w.top!="undefined"?w.top:h.top;h.right=typeof w.right!="undefined"?w.right:h.right;h.bottom=typeof w.bottom!="undefined"?w.bottom:h.bottom;h.left=typeof w.left!="undefined"?w.left:h.left;return n};n.width=function(w){if(!arguments.length){return f}f=w;return n};n.height=function(w){if(!arguments.length){return u}u=w;return n};n.color=function(w){if(!arguments.length){return i}i=c.utils.getColor(w);t.color(i);return n};n.staggerLabels=function(w){if(!arguments.length){return l}l=w;return n};n.tooltips=function(w){if(!arguments.length){return o}o=w;return n};n.tooltipContent=function(w){if(!arguments.length){return v}v=w;return n};n.noData=function(w){if(!arguments.length){return s}s=w;return n};return n};c.models.discreteBar=function(){var m={top:0,right:0,bottom:0,left:0},p=960,n=500,o=Math.floor(Math.random()*10000),i=d3.scale.ordinal(),h=d3.scale.linear(),u=function(x){return x.x},t=function(x){return x.y},f=[0],s=c.utils.defaultColor(),w=false,g=d3.format(",.2f"),r,q,z=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var v,e;function l(x){x.each(function(H){var K=p-m.left-m.right,D=n-m.top-m.bottom,A=d3.select(this);H=H.map(function(M,L){M.values=M.values.map(function(N){N.series=L;return N});return M});var C=(r&&q)?[]:H.map(function(L){return L.values.map(function(N,M){return{x:u(N,M),y:t(N,M),y0:N.y0}})});i.domain(r||d3.merge(C).map(function(L){return L.x})).rangeBands([0,K],0.1);h.domain(q||d3.extent(d3.merge(C).map(function(L){return L.y}).concat(f)));if(w){h.range([D-(h.domain()[0]<0?12:0),h.domain()[1]>0?12:0])}else{h.range([D,0])}v=v||i;e=e||h.copy().range([h(0),h(0)]);var B=A.selectAll("g.nv-wrap.nv-discretebar").data([H]);var F=B.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar");var y=F.append("g");var I=B.select("g");y.append("g").attr("class","nv-groups");B.attr("transform","translate("+m.left+","+m.top+")");var E=B.select(".nv-groups").selectAll(".nv-group").data(function(L){return L},function(L){return L.key});E.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(E.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();E.attr("class",function(M,L){return"nv-group nv-series-"+L}).classed("hover",function(L){return L.hover});d3.transition(E).style("stroke-opacity",1).style("fill-opacity",0.75);var J=E.selectAll("g.nv-bar").data(function(L){return L.values});J.exit().remove();var G=J.enter().append("g").attr("transform",function(N,M,L){return"translate("+i(u(N,M))+", "+h(0)+")"}).on("mouseover",function(M,L){d3.select(this).classed("hover",true);z.elementMouseover({value:t(M,L),point:M,series:H[M.series],pos:[i(u(M,L))+(i.rangeBand()*(M.series+0.5)/H.length),h(t(M,L))],pointIndex:L,seriesIndex:M.series,e:d3.event})}).on("mouseout",function(M,L){d3.select(this).classed("hover",false);z.elementMouseout({value:t(M,L),point:M,series:H[M.series],pointIndex:L,seriesIndex:M.series,e:d3.event})}).on("click",function(M,L){z.elementClick({value:t(M,L),point:M,series:H[M.series],pos:[i(u(M,L))+(i.rangeBand()*(M.series+0.5)/H.length),h(t(M,L))],pointIndex:L,seriesIndex:M.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(M,L){z.elementDblClick({value:t(M,L),point:M,series:H[M.series],pos:[i(u(M,L))+(i.rangeBand()*(M.series+0.5)/H.length),h(t(M,L))],pointIndex:L,seriesIndex:M.series,e:d3.event});d3.event.stopPropagation()});G.append("rect").attr("height",0).attr("width",i.rangeBand()/H.length);if(w){G.append("text").attr("text-anchor","middle");J.selectAll("text").attr("x",i.rangeBand()/2).attr("y",function(M,L){return t(M,L)<0?h(t(M,L))-h(0)+12:-4}).text(function(M,L){return g(t(M,L))})}else{J.selectAll("text").remove()}J.attr("class",function(M,L){return t(M,L)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(M,L){return M.color||s(M,L)}).style("stroke",function(M,L){return M.color||s(M,L)}).attr("transform",function(M,L){return"translate("+i(u(M,L))+", "+(t(M,L)<0?e(0):e(t(M,L)))+")"}).selectAll("rect").attr("width",i.rangeBand()/H.length);d3.transition(J).attr("transform",function(M,L){return"translate("+i(u(M,L))+", "+(t(M,L)<0?h(0):h(t(M,L)))+")"}).selectAll("rect").attr("height",function(M,L){return Math.abs(h(t(M,L))-h(0))});v=i.copy();e=h.copy()});return l}l.dispatch=z;l.x=function(x){if(!arguments.length){return u}u=x;return l};l.y=function(x){if(!arguments.length){return t}t=x;return l};l.margin=function(x){if(!arguments.length){return m}m.top=typeof x.top!="undefined"?x.top:m.top;m.right=typeof x.right!="undefined"?x.right:m.right;m.bottom=typeof x.bottom!="undefined"?x.bottom:m.bottom;m.left=typeof x.left!="undefined"?x.left:m.left;return l};l.width=function(x){if(!arguments.length){return p}p=x;return l};l.height=function(x){if(!arguments.length){return n}n=x;return l};l.xScale=function(x){if(!arguments.length){return i}i=x;return l};l.yScale=function(x){if(!arguments.length){return h}h=x;return l};l.xDomain=function(x){if(!arguments.length){return r}r=x;return l};l.yDomain=function(x){if(!arguments.length){return q}q=x;return l};l.forceY=function(x){if(!arguments.length){return f}f=x;return l};l.color=function(x){if(!arguments.length){return s}s=c.utils.getColor(x);return l};l.id=function(x){if(!arguments.length){return o}o=x;return l};l.showValues=function(x){if(!arguments.length){return w}w=x;return l};l.valueFormat=function(x){if(!arguments.length){return g}g=x;return l};return l};c.models.distribution=function(){var h={top:0,right:0,bottom:0,left:0},e=400,p=8,f="x",m=function(q){return q[f]},i=c.utils.defaultColor(),g=d3.scale.linear(),l;var n;function o(q){q.each(function(v){var w=e-(f==="x"?h.left+h.right:h.top+h.bottom),z=f=="x"?"y":"x",s=d3.select(this);n=n||g;var t=s.selectAll("g.nv-distribution").data([v]);var u=t.enter().append("g").attr("class","nvd3 nv-distribution");var r=u.append("g");var x=t.select("g");t.attr("transform","translate("+h.left+","+h.top+")");var A=x.selectAll("g.nv-dist").data(function(B){return B},function(B){return B.key});A.enter().append("g");A.attr("class",function(C,B){return"nv-dist nv-series-"+B}).style("stroke",function(C,B){return i(C,B)});var y=A.selectAll("line.nv-dist"+f).data(function(B){return B.values});y.enter().append("line").attr(f+"1",function(C,B){return n(m(C,B))}).attr(f+"2",function(C,B){return n(m(C,B))});d3.transition(A.exit().selectAll("line.nv-dist"+f)).attr(f+"1",function(C,B){return g(m(C,B))}).attr(f+"2",function(C,B){return g(m(C,B))}).style("stroke-opacity",0).remove();y.attr("class",function(C,B){return"nv-dist"+f+" nv-dist"+f+"-"+B}).attr(z+"1",0).attr(z+"2",p);d3.transition(y).attr(f+"1",function(C,B){return g(m(C,B))}).attr(f+"2",function(C,B){return g(m(C,B))});n=g.copy()});return o}o.margin=function(q){if(!arguments.length){return h}h.top=typeof q.top!="undefined"?q.top:h.top;h.right=typeof q.right!="undefined"?q.right:h.right;h.bottom=typeof q.bottom!="undefined"?q.bottom:h.bottom;h.left=typeof q.left!="undefined"?q.left:h.left;return o};o.width=function(q){if(!arguments.length){return e}e=q;return o};o.axis=function(q){if(!arguments.length){return f}f=q;return o};o.size=function(q){if(!arguments.length){return p}p=q;return o};o.getData=function(q){if(!arguments.length){return m}m=d3.functor(q);return o};o.scale=function(q){if(!arguments.length){return g}g=q;return o};o.color=function(q){if(!arguments.length){return i}i=c.utils.getColor(q);return o};return o};c.models.historicalBar=function(){var i={top:0,right:0,bottom:0,left:0},g=960,v=500,f=Math.floor(Math.random()*10000),r=d3.scale.linear(),q=d3.scale.linear(),u=function(w){return w.x},t=function(w){return w.y},m=[],l=[0],s=true,h=c.utils.defaultColor(),o,e,n=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function p(w){w.each(function(E){var H=g-i.left-i.right,A=v-i.top-i.bottom,y=d3.select(this);r.domain(o||d3.extent(E[0].values.map(u).concat(m))).range([0,H]);q.domain(e||d3.extent(E[0].values.map(t).concat(l))).range([A,0]);if(r.domain()[0]===r.domain()[1]||q.domain()[0]===q.domain()[1]){singlePoint=true}if(r.domain()[0]===r.domain()[1]){r.domain()[0]?r.domain([r.domain()[0]-r.domain()[0]*0.01,r.domain()[1]+r.domain()[1]*0.01]):r.domain([-1,1])}if(q.domain()[0]===q.domain()[1]){q.domain()[0]?q.domain([q.domain()[0]+q.domain()[0]*0.01,q.domain()[1]-q.domain()[1]*0.01]):q.domain([-1,1])}var z=y.selectAll("g.nv-wrap.nv-bar").data([E[0].values]);var C=z.enter().append("g").attr("class","nvd3 nv-wrap nv-bar");var B=C.append("defs");var x=C.append("g");var F=z.select("g");x.append("g").attr("class","nv-bars");z.attr("transform","translate("+i.left+","+i.top+")");y.on("click",function(J,I){n.chartClick({data:J,index:I,pos:d3.event,id:f})});B.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");z.select("#nv-chart-clip-path-"+f+" rect").attr("width",H).attr("height",A);F.attr("clip-path",s?"url(#nv-chart-clip-path-"+f+")":"");var G=z.select(".nv-bars").selectAll(".nv-bar").data(function(I){return I});G.exit().remove();var D=G.enter().append("rect").attr("class",function(K,J,I){return(t(K,J)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+I+"-"+J}).attr("fill",function(J,I){return h(J,I)}).attr("x",0).attr("y",function(J,I){return q(Math.max(0,t(J,I)))}).attr("height",function(J,I){return Math.abs(q(t(J,I))-q(0))}).on("mouseover",function(J,I){d3.select(this).classed("hover",true);n.elementMouseover({point:J,series:E[0],pos:[r(u(J,I)),q(t(J,I))],pointIndex:I,seriesIndex:0,e:d3.event})}).on("mouseout",function(J,I){d3.select(this).classed("hover",false);n.elementMouseout({point:J,series:E[0],pointIndex:I,seriesIndex:0,e:d3.event})}).on("click",function(J,I){n.elementClick({value:t(J,I),data:J,index:I,pos:[r(u(J,I)),q(t(J,I))],e:d3.event,id:f});d3.event.stopPropagation()}).on("dblclick",function(J,I){n.elementDblClick({value:t(J,I),data:J,index:I,pos:[r(u(J,I)),q(t(J,I))],e:d3.event,id:f});d3.event.stopPropagation()});G.attr("class",function(K,J,I){return(t(K,J)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+I+"-"+J}).attr("transform",function(J,I){return"translate("+(r(u(J,I))-((H/E[0].values.length)*0.5))+",0)"}).attr("width",(H/E[0].values.length)*0.9);d3.transition(G).attr("y",function(J,I){return q(Math.max(0,t(J,I)))}).attr("height",function(J,I){return Math.abs(q(t(J,I))-q(0))})});return p}p.dispatch=n;p.x=function(w){if(!arguments.length){return u}u=w;return p};p.y=function(w){if(!arguments.length){return t}t=w;return p};p.margin=function(w){if(!arguments.length){return i}i.top=typeof w.top!="undefined"?w.top:i.top;i.right=typeof w.right!="undefined"?w.right:i.right;i.bottom=typeof w.bottom!="undefined"?w.bottom:i.bottom;i.left=typeof w.left!="undefined"?w.left:i.left;return p};p.width=function(w){if(!arguments.length){return g}g=w;return p};p.height=function(w){if(!arguments.length){return v}v=w;return p};p.xScale=function(w){if(!arguments.length){return r}r=w;return p};p.yScale=function(w){if(!arguments.length){return q}q=w;return p};p.xDomain=function(w){if(!arguments.length){return o}o=w;return p};p.yDomain=function(w){if(!arguments.length){return e}e=w;return p};p.forceX=function(w){if(!arguments.length){return m}m=w;return p};p.forceY=function(w){if(!arguments.length){return l}l=w;return p};p.clipEdge=function(w){if(!arguments.length){return s}s=w;return p};p.color=function(w){if(!arguments.length){return h}h=c.utils.getColor(w);return p};p.id=function(w){if(!arguments.length){return f}f=w;return p};return p};c.models.indentedTree=function(){var i={top:0,right:0,bottom:0,left:0},g=960,t=500,l=c.utils.defaultColor(),f=Math.floor(Math.random()*10000),n=true,s="No Data Available.",o=20,h=[{key:"key",label:"Name",type:"text"}],r=null,e="images/grey-plus.png",m="images/grey-minus.png",p=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout");function q(u){u.each(function(K){var F=0,L=1;var z=d3.layout.tree().children(function(N){return N.values}).size([t,o]);q.update=function(){u.transition().call(q)};q.container=this;if(!K[0].key){K[0].key=s}var B=z.nodes(K[0]);var y=d3.select(this).selectAll("div").data([[B]]);var w=y.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree");var M=w.append("table");var H=y.select("table").attr("width","100%").attr("class",r);if(n){var G=M.append("thead");var J=G.append("tr");h.forEach(function(N){J.append("th").attr("width",N.width?N.width:"10%").style("text-align",N.type=="numeric"?"right":"left").append("span").text(N.label)})}var v=H.selectAll("tbody").data(function(N){return N});v.enter().append("tbody");L=d3.max(B,function(N){return N.depth});z.size([t,L*o]);var D=v.selectAll("tr").data(function(N){return N},function(N){return N.id||(N.id==++F)});D.exit().remove();D.select("img.nv-treeicon").attr("src",I).classed("folded",A);var x=D.enter().append("tr");h.forEach(function(O,N){var P=x.append("td").style("padding-left",function(Q){return(N?0:Q.depth*o+12+(I(Q)?0:16))+"px"},"important").style("text-align",O.type=="numeric"?"right":"left");if(N==0){P.append("img").classed("nv-treeicon",true).classed("nv-folded",A).attr("src",I).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(Q){return I(Q)?"inline-block":"none"}).on("click",C)}P.append("span").attr("class",d3.functor(O.classes)).text(function(Q){return O.format?O.format(Q):(Q[O.key]||"-")});if(O.showCount){P.append("span").attr("class","nv-childrenCount").text(function(Q){return((Q.values&&Q.values.length)||(Q._values&&Q._values.length))?"("+((Q.values&&Q.values.length)||(Q._values&&Q._values.length))+")":""})}if(O.click){P.select("span").on("click",O.click)}});D.order().on("click",function(N){p.elementClick({row:this,data:N,pos:[N.x,N.y]})}).on("dblclick",function(N){p.elementDblclick({row:this,data:N,pos:[N.x,N.y]})}).on("mouseover",function(N){p.elementMouseover({row:this,data:N,pos:[N.x,N.y]})}).on("mouseout",function(N){p.elementMouseout({row:this,data:N,pos:[N.x,N.y]})});function C(P,O,N){d3.event.stopPropagation();if(d3.event.shiftKey&&!N){d3.event.shiftKey=false;P.values&&P.values.forEach(function(Q){if(Q.values||Q._values){C(Q,0,true)}});return true}if(!E(P)){return true}if(P.values){P._values=P.values;P.values=null}else{P.values=P._values;P._values=null}q.update()}function I(N){return(N._values&&N._values.length)?e:(N.values&&N.values.length)?m:""}function A(N){return(N._values&&N._values.length)}function E(O){var N=O.values||O._values;return(N&&N.length)}});return q}q.margin=function(u){if(!arguments.length){return i}i.top=typeof u.top!="undefined"?u.top:i.top;i.right=typeof u.right!="undefined"?u.right:i.right;i.bottom=typeof u.bottom!="undefined"?u.bottom:i.bottom;i.left=typeof u.left!="undefined"?u.left:i.left;return q};q.width=function(u){if(!arguments.length){return g}g=u;return q};q.height=function(u){if(!arguments.length){return t}t=u;return q};q.color=function(u){if(!arguments.length){return l}l=c.utils.getColor(u);scatter.color(l);return q};q.id=function(u){if(!arguments.length){return f}f=u;return q};q.header=function(u){if(!arguments.length){return n}n=u;return q};q.noData=function(u){if(!arguments.length){return s}s=u;return q};q.columns=function(u){if(!arguments.length){return h}h=u;return q};q.tableClass=function(u){if(!arguments.length){return r}r=u;return q};q.iconOpen=function(u){if(!arguments.length){return e}e=u;return q};q.iconClose=function(u){if(!arguments.length){return m}m=u;return q};return q};c.models.legend=function(){var m={top:5,right:0,bottom:5,left:0},l=400,e=20,h=function(o){return o.key},f=c.utils.defaultColor(),n=true,g=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout");function i(o){o.each(function(H){var p=l-m.left-m.right,A=d3.select(this);var y=A.selectAll("g.nv-legend").data([H]);var E=y.enter().append("g").attr("class","nvd3 nv-legend").append("g");var G=y.select("g");y.attr("transform","translate("+m.left+","+m.top+")");var z=G.selectAll(".nv-series").data(function(I){return I});var t=z.enter().append("g").attr("class","nv-series").on("mouseover",function(J,I){g.legendMouseover(J,I)}).on("mouseout",function(J,I){g.legendMouseout(J,I)}).on("click",function(J,I){g.legendClick(J,I)}).on("dblclick",function(J,I){g.legendDblclick(J,I)});t.append("circle").style("stroke-width",2).attr("r",5);t.append("text").attr("text-anchor","start").attr("dy",".32em").attr("dx","8");z.classed("disabled",function(I){return I.disabled});z.exit().remove();z.select("circle").style("fill",function(J,I){return J.color||f(J,I)}).style("stroke",function(J,I){return J.color||f(J,I)});z.select("text").text(h);if(n){var s=[];z.each(function(J,I){s.push(d3.select(this).select("text").node().getComputedTextLength()+28)});var w=0;var D=0;var B=[];while(D<p&&w<s.length){B[w]=s[w];D+=s[w++]}while(D>p&&w>1){B=[];w--;for(k=0;k<s.length;k++){if(s[k]>(B[k%w]||0)){B[k%w]=s[k]}}D=B.reduce(function(J,K,I,L){return J+K})}var q=[];for(var F=0,x=0;F<w;F++){q[F]=x;x+=B[F]}z.attr("transform",function(J,I){return"translate("+q[I%w]+","+(5+Math.floor(I/w)*20)+")"});G.attr("transform","translate("+(l-m.right-D)+","+m.top+")");e=m.top+m.bottom+(Math.ceil(s.length/w)*20)}else{var u=5,v=5,C=0,r;z.attr("transform",function(K,I){var J=d3.select(this).select("text").node().getComputedTextLength()+28;r=v;if(l<m.left+m.right+r+J){v=r=5;u+=20}v+=J;if(v>C){C=v}return"translate("+r+","+u+")"});G.attr("transform","translate("+(l-m.right-C)+","+m.top+")");e=m.top+m.bottom+u+15}});return i}i.dispatch=g;i.margin=function(o){if(!arguments.length){return m}m.top=typeof o.top!="undefined"?o.top:m.top;m.right=typeof o.right!="undefined"?o.right:m.right;m.bottom=typeof o.bottom!="undefined"?o.bottom:m.bottom;m.left=typeof o.left!="undefined"?o.left:m.left;return i};i.width=function(o){if(!arguments.length){return l}l=o;return i};i.height=function(o){if(!arguments.length){return e}e=o;return i};i.key=function(o){if(!arguments.length){return h}h=o;return i};i.color=function(o){if(!arguments.length){return f}f=c.utils.getColor(o);return i};i.align=function(o){if(!arguments.length){return n}n=o;return i};return i};c.models.lineChart=function(){var w=c.models.line(),g=c.models.axis(),e=c.models.axis(),q=c.models.legend();var h={top:30,right:20,bottom:50,left:60},i=c.utils.defaultColor(),f=null,u=null,t=true,n=true,v=function(A,z,D,C,B){return"<h3>"+A+"</h3><p>"+D+" at "+z+"</p>"},p,o,s="No Data Available.",l=d3.dispatch("tooltipShow","tooltipHide");g.orient("bottom").tickPadding(5);e.orient("left");var r=function(C,H){if(H){var A=d3.select(H).select("svg");var I=A.attr("viewBox");if(I){I=I.split(" ");var D=parseInt(A.style("width"))/I[2];C.pos[0]=C.pos[0]*D;C.pos[1]=C.pos[1]*D}}var z=C.pos[0]+(H.offsetLeft||0),F=C.pos[1]+(H.offsetTop||0),G=g.tickFormat()(w.x()(C.point,C.pointIndex)),E=e.tickFormat()(w.y()(C.point,C.pointIndex)),B=v(C.series.key,G,E,C,m);c.tooltip.show([z,F],B,null,null,H)};function m(x){x.each(function(E){var A=d3.select(this),G=this;var H=(f||parseInt(A.style("width"))||960)-h.left-h.right,D=(u||parseInt(A.style("height"))||400)-h.top-h.bottom;m.update=function(){m(x)};m.container=this;if(!E||!E.length||!E.filter(function(I){return I.values.length}).length){var B=A.selectAll(".nv-noData").data([s]);B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");B.attr("x",h.left+H/2).attr("y",h.top+D/2).text(function(I){return I});return m}else{A.selectAll(".nv-noData").remove()}p=w.xScale();o=w.yScale();var C=A.selectAll("g.nv-wrap.nv-lineChart").data([E]);var y=C.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g");var F=C.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-linesWrap");y.append("g").attr("class","nv-legendWrap");if(t){q.width(H);F.select(".nv-legendWrap").datum(E).call(q);if(h.top!=q.height()){h.top=q.height();D=(u||parseInt(A.style("height"))||400)-h.top-h.bottom}C.select(".nv-legendWrap").attr("transform","translate(0,"+(-h.top)+")")}C.attr("transform","translate("+h.left+","+h.top+")");w.width(H).height(D).color(E.map(function(J,I){return J.color||i(J,I)}).filter(function(J,I){return !E[I].disabled}));var z=F.select(".nv-linesWrap").datum(E.filter(function(I){return !I.disabled}));d3.transition(z).call(w);g.scale(p).ticks(H/100).tickSize(-D,0);F.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")");d3.transition(F.select(".nv-x.nv-axis")).call(g);e.scale(o).ticks(D/36).tickSize(-H,0);d3.transition(F.select(".nv-y.nv-axis")).call(e);q.dispatch.on("legendClick",function(J,I){J.disabled=!J.disabled;if(!E.filter(function(K){return !K.disabled}).length){E.map(function(K){K.disabled=false;C.selectAll(".nv-series").classed("disabled",false);return K})}x.transition().call(m)});l.on("tooltipShow",function(I){if(n){r(I,G.parentNode)}})});return m}w.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+h.left,x.pos[1]+h.top];l.tooltipShow(x)});w.dispatch.on("elementMouseout.tooltip",function(x){l.tooltipHide(x)});l.on("tooltipHide",function(){if(n){c.tooltip.cleanup()}});m.dispatch=l;m.lines=w;m.legend=q;m.xAxis=g;m.yAxis=e;d3.rebind(m,w,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate");m.margin=function(x){if(!arguments.length){return h}h.top=typeof x.top!="undefined"?x.top:h.top;h.right=typeof x.right!="undefined"?x.right:h.right;h.bottom=typeof x.bottom!="undefined"?x.bottom:h.bottom;h.left=typeof x.left!="undefined"?x.left:h.left;return m};m.width=function(x){if(!arguments.length){return f}f=x;return m};m.height=function(x){if(!arguments.length){return u}u=x;return m};m.color=function(x){if(!arguments.length){return i}i=c.utils.getColor(x);q.color(i);return m};m.showLegend=function(x){if(!arguments.length){return t}t=x;return m};m.tooltips=function(x){if(!arguments.length){return n}n=x;return m};m.tooltipContent=function(x){if(!arguments.length){return v}v=x;return m};m.noData=function(x){if(!arguments.length){return s}s=x;return m};return m};c.models.line=function(){var l={top:0,right:0,bottom:0,left:0},g=960,w=500,m=c.utils.defaultColor(),f=Math.floor(Math.random()*10000),v=function(x){return x.x},u=function(x){return x.y},i=function(y,x){return !isNaN(u(y,x))&&u(y,x)!==null},p=function(x){return x.area},t=false,r,q,n="linear",e=c.models.scatter();e.id(f).size(16).sizeDomain([16,256]);var h,s;function o(x){x.each(function(H){var K=g-l.left-l.right,C=w-l.top-l.bottom,z=d3.select(this);r=e.xScale();q=e.yScale();h=h||r;s=s||q;var A=z.selectAll("g.nv-wrap.nv-line").data([H]);var F=A.enter().append("g").attr("class","nvd3 nv-wrap nv-line");var D=F.append("defs");var y=F.append("g");var I=A.select("g");y.append("g").attr("class","nv-groups");y.append("g").attr("class","nv-scatterWrap");A.attr("transform","translate("+l.left+","+l.top+")");e.width(K).height(C);var B=A.select(".nv-scatterWrap");d3.transition(B).call(e);D.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");A.select("#nv-edge-clip-"+f+" rect").attr("width",K).attr("height",C);I.attr("clip-path",t?"url(#nv-edge-clip-"+f+")":"");B.attr("clip-path",t?"url(#nv-edge-clip-"+f+")":"");var E=A.select(".nv-groups").selectAll(".nv-group").data(function(L){return L},function(L){return L.key});E.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(E.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();E.attr("class",function(M,L){return"nv-group nv-series-"+L}).classed("hover",function(L){return L.hover}).style("fill",function(M,L){return m(M,L)}).style("stroke",function(M,L){return m(M,L)});d3.transition(E).style("stroke-opacity",1).style("fill-opacity",0.5);var J=E.selectAll("path.nv-area").data(function(L){return p(L)?[L]:[]});J.enter().append("path").attr("class","nv-area").attr("d",function(L){return d3.svg.area().interpolate(n).defined(i).x(function(N,M){return h(v(N,M))}).y0(function(N,M){return s(u(N,M))}).y1(function(N,M){return s(q.domain()[0]<=0?q.domain()[1]>=0?0:q.domain()[1]:q.domain()[0])}).apply(this,[L.values])});d3.transition(E.exit().selectAll("path.nv-area")).attr("d",function(L){return d3.svg.area().interpolate(n).defined(i).x(function(N,M){return h(v(N,M))}).y0(function(N,M){return s(u(N,M))}).y1(function(N,M){return s(q.domain()[0]<=0?q.domain()[1]>=0?0:q.domain()[1]:q.domain()[0])}).apply(this,[L.values])});d3.transition(J).attr("d",function(L){return d3.svg.area().interpolate(n).defined(i).x(function(N,M){return h(v(N,M))}).y0(function(N,M){return s(u(N,M))}).y1(function(N,M){return s(q.domain()[0]<=0?q.domain()[1]>=0?0:q.domain()[1]:q.domain()[0])}).apply(this,[L.values])});var G=E.selectAll("path.nv-line").data(function(L){return[L.values]});G.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(n).defined(i).x(function(M,L){return h(v(M,L))}).y(function(M,L){return s(u(M,L))}));d3.transition(E.exit().selectAll("path.nv-line")).attr("d",d3.svg.line().interpolate(n).defined(i).x(function(M,L){return r(v(M,L))}).y(function(M,L){return q(u(M,L))}));d3.transition(G).attr("d",d3.svg.line().interpolate(n).defined(i).x(function(M,L){return r(v(M,L))}).y(function(M,L){return q(u(M,L))}));h=r.copy();s=q.copy()});return o}o.dispatch=e.dispatch;o.scatter=e;d3.rebind(o,e,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","forceX","forceY","forceSize","clipVoronoi","clipRadius");o.margin=function(x){if(!arguments.length){return l}l.top=typeof x.top!="undefined"?x.top:l.top;l.right=typeof x.right!="undefined"?x.right:l.right;l.bottom=typeof x.bottom!="undefined"?x.bottom:l.bottom;l.left=typeof x.left!="undefined"?x.left:l.left;return o};o.width=function(x){if(!arguments.length){return g}g=x;return o};o.height=function(x){if(!arguments.length){return w}w=x;return o};o.x=function(x){if(!arguments.length){return v}v=x;e.x(x);return o};o.y=function(x){if(!arguments.length){return u}u=x;e.y(x);return o};o.clipEdge=function(x){if(!arguments.length){return t}t=x;return o};o.color=function(x){if(!arguments.length){return m}m=c.utils.getColor(x);e.color(m);return o};o.id=function(x){if(!arguments.length){return f}f=x;return o};o.interpolate=function(x){if(!arguments.length){return n}n=x;return o};o.defined=function(x){if(!arguments.length){return i}i=x;return o};o.isArea=function(x){if(!arguments.length){return p}p=d3.functor(x);return o};return o};c.models.linePlusBarChart=function(){var e=c.models.line(),v=c.models.historicalBar(),p=c.models.axis(),r=c.models.axis(),h=c.models.axis(),g=c.models.legend();var t={top:30,right:60,bottom:50,left:60},w=null,u=null,A=function(x){return x.x},z=function(x){return x.y},y=c.utils.defaultColor(),B=true,f=true,o=function(E,D,H,G,F){return"<h3>"+E+"</h3><p>"+H+" at "+D+"</p>"},q,l,i,n="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide");p.orient("bottom").tickPadding(5);r.orient("left");h.orient("right");var m=function(I,E){var H=I.pos[0]+(E.offsetLeft||0),G=I.pos[1]+(E.offsetTop||0),D=p.tickFormat()(e.x()(I.point,I.pointIndex)),J=(I.series.bar?r:h).tickFormat()(e.y()(I.point,I.pointIndex)),F=o(I.series.key,D,J,I,s);c.tooltip.show([H,G],F,I.value<0?"n":"s",null,E)};function s(x){x.each(function(K){var F=d3.select(this),N=this;var Q=(w||parseInt(F.style("width"))||960)-t.left-t.right,I=(u||parseInt(F.style("height"))||400)-t.top-t.bottom;s.update=function(){s(x)};s.container=this;if(!K||!K.length||!K.filter(function(S){return S.values.length}).length){var G=F.selectAll(".nv-noData").data([n]);G.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");G.attr("x",t.left+Q/2).attr("y",t.top+I/2).text(function(S){return S});return s}else{F.selectAll(".nv-noData").remove()}q=p.scale();l=v.yScale();i=e.yScale();var R=K.filter(function(S){return !S.disabled&&S.bar});var J=K.filter(function(S){return !S.disabled&&!S.bar});var P=K.filter(function(S){return !S.disabled&&S.bar}).map(function(S){return S.values.map(function(U,T){return{x:A(U,T),y:z(U,T)}})});var O=K.filter(function(S){return !S.disabled&&!S.bar}).map(function(S){return S.values.map(function(U,T){return{x:A(U,T),y:z(U,T)}})});q.domain(d3.extent(d3.merge(P.concat(O)),function(S){return S.x})).range([0,Q]);var H=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([K]);var D=H.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g");var L=H.select("g");D.append("g").attr("class","nv-x nv-axis");D.append("g").attr("class","nv-y1 nv-axis");D.append("g").attr("class","nv-y2 nv-axis");D.append("g").attr("class","nv-barsWrap");D.append("g").attr("class","nv-linesWrap");D.append("g").attr("class","nv-legendWrap");if(B){g.width(Q/2);L.select(".nv-legendWrap").datum(K.map(function(S){S.originalKey=S.originalKey===undefined?S.key:S.originalKey;S.key=S.originalKey+(S.bar?" (left axis)":" (right axis)");return S})).call(g);if(t.top!=g.height()){t.top=g.height();I=(u||parseInt(F.style("height"))||400)-t.top-t.bottom}L.select(".nv-legendWrap").attr("transform","translate("+(Q/2)+","+(-t.top)+")")}H.attr("transform","translate("+t.left+","+t.top+")");e.width(Q).height(I).color(K.map(function(T,S){return T.color||y(T,S)}).filter(function(T,S){return !K[S].disabled&&!K[S].bar}));v.width(Q).height(I).color(K.map(function(T,S){return T.color||y(T,S)}).filter(function(T,S){return !K[S].disabled&&K[S].bar}));var M=L.select(".nv-barsWrap").datum(R.length?R:[{values:[]}]);var E=L.select(".nv-linesWrap").datum(J.length?J:[{values:[]}]);d3.transition(M).call(v);d3.transition(E).call(e);p.ticks(Q/100).tickSize(-I,0);L.select(".nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")");d3.transition(L.select(".nv-x.nv-axis")).call(p);r.scale(l).ticks(I/36).tickSize(-Q,0);d3.transition(L.select(".nv-y1.nv-axis")).style("opacity",R.length?1:0).call(r);h.scale(i).ticks(I/36).tickSize(R.length?0:-Q,0);L.select(".nv-y2.nv-axis").style("opacity",J.length?1:0).attr("transform","translate("+q.range()[1]+",0)");d3.transition(L.select(".nv-y2.nv-axis")).call(h);g.dispatch.on("legendClick",function(T,S){T.disabled=!T.disabled;if(!K.filter(function(U){return !U.disabled}).length){K.map(function(U){U.disabled=false;H.selectAll(".nv-series").classed("disabled",false);return U})}x.transition().call(s)});C.on("tooltipShow",function(S){if(f){m(S,N.parentNode)}})});return s}e.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+t.left,x.pos[1]+t.top];C.tooltipShow(x)});e.dispatch.on("elementMouseout.tooltip",function(x){C.tooltipHide(x)});v.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+t.left,x.pos[1]+t.top];C.tooltipShow(x)});v.dispatch.on("elementMouseout.tooltip",function(x){C.tooltipHide(x)});C.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});s.dispatch=C;s.legend=g;s.lines=e;s.bars=v;s.xAxis=p;s.y1Axis=r;s.y2Axis=h;d3.rebind(s,e,"defined","size","clipVoronoi","interpolate");s.x=function(x){if(!arguments.length){return A}A=x;e.x(x);v.x(x);return s};s.y=function(x){if(!arguments.length){return z}z=x;e.y(x);v.y(x);return s};s.margin=function(x){if(!arguments.length){return t}t.top=typeof x.top!="undefined"?x.top:t.top;t.right=typeof x.right!="undefined"?x.right:t.right;t.bottom=typeof x.bottom!="undefined"?x.bottom:t.bottom;t.left=typeof x.left!="undefined"?x.left:t.left;return s};s.width=function(x){if(!arguments.length){return w}w=x;return s};s.height=function(x){if(!arguments.length){return u}u=x;return s};s.color=function(x){if(!arguments.length){return y}y=c.utils.getColor(x);g.color(y);return s};s.showLegend=function(x){if(!arguments.length){return B}B=x;return s};s.tooltips=function(x){if(!arguments.length){return f}f=x;return s};s.tooltipContent=function(x){if(!arguments.length){return o}o=x;return s};s.noData=function(x){if(!arguments.length){return n}n=x;return s};return s};c.models.lineChart=function(){var t={top:30,right:20,bottom:50,left:60},z=c.utils.defaultColor(),w=null,u=null,B=true,C=true,v=0,A=false,g=true,m=function(F,E,I,H,G){return"<h3>"+F+"</h3><p>"+I+" at "+E+"</p>"},l="No Data Available.";var q=d3.fisheye.scale(d3.scale.linear).distortion(0);var f=c.models.line().xScale(q),p=f.yScale(),o=c.models.axis().scale(q).orient("bottom").tickPadding(5),e=c.models.axis().scale(p).orient("left"),h=c.models.legend().height(30),r=c.models.legend().height(30),D=d3.dispatch("tooltipShow","tooltipHide");var i=function(J,F){var I=J.pos[0]+(F.offsetLeft||0),H=J.pos[1]+(F.offsetTop||0),E=o.tickFormat()(f.x()(J.point,J.pointIndex)),K=e.tickFormat()(f.y()(J.point,J.pointIndex)),G=m(J.series.key,E,K,J,s);c.tooltip.show([I,H],G,null,null,F)};var n=[{key:"Magnify",disabled:true}];function s(x){x.each(function(J){var G=d3.select(this),L=this;var M=(w||parseInt(G.style("width"))||960)-t.left-t.right,I=(u||parseInt(G.style("height"))||400)-t.top-t.bottom;if(!J||!J.length||!J.filter(function(N){return N.values.length}).length){G.append("text").attr("class","nvd3 nv-noData").attr("x",M/2).attr("y",I/2).attr("dy","-.7em").style("text-anchor","middle").text(l);return s}else{G.select(".nv-noData").remove()}var H=G.selectAll("g.nv-wrap.nv-lineChart").data([J]);var y=H.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g");y.append("rect").attr("class","nvd3 nv-background").attr("width",M).attr("height",I);y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-linesWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");y.append("g").attr("class","nv-controlsWrap");var K=H.select("g");if(B){h.width(M);K.select(".nv-legendWrap").datum(J).call(h);if(t.top!=h.height()){t.top=h.height();I=(u||parseInt(G.style("height"))||400)-t.top-t.bottom}K.select(".nv-legendWrap").attr("transform","translate(0,"+(-t.top)+")")}if(C){r.width(180).color(["#444"]);K.select(".nv-controlsWrap").datum(n).attr("transform","translate(0,"+(-t.top)+")").call(r)}f.width(M).height(I).color(J.map(function(O,N){return O.color||z(O,N)}).filter(function(O,N){return !J[N].disabled}));K.attr("transform","translate("+t.left+","+t.top+")");var F=K.select(".nv-linesWrap").datum(J.filter(function(N){return !N.disabled}));d3.transition(F).call(f);o.ticks(M/100).tickSize(-I,0);K.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");d3.transition(K.select(".nv-x.nv-axis")).call(o);e.ticks(I/36).tickSize(-M,0);d3.transition(K.select(".nv-y.nv-axis")).call(e);K.select(".nv-background").on("mousemove",E);K.select(".nv-background").on("click",function(){A=!A});function E(){if(A){K.select(".nv-point-paths").style("pointer-events","all");return false}K.select(".nv-background").style("pointer-events","all");K.select(".nv-point-paths").style("pointer-events","none");var N=d3.mouse(this);F.call(f);K.select(".nv-x.nv-axis").call(o);q.distortion(v).focus(N[0])}r.dispatch.on("legendClick",function(O,N){O.disabled=!O.disabled;v=O.disabled?0:5;K.select(".nv-background").style("pointer-events",O.disabled?"none":"all");K.select(".nv-point-paths").style("pointer-events",O.disabled?"all":"none");if(O.disabled){q.distortion(v).focus(0);F.call(f);K.select(".nv-x.nv-axis").call(o)}else{A=false}x.transition().call(s)});h.dispatch.on("legendClick",function(O,N){O.disabled=!O.disabled;if(!J.filter(function(P){return !P.disabled}).length){J.map(function(P){P.disabled=false;H.selectAll(".nv-series").classed("disabled",false);return P})}x.transition().call(s)});f.dispatch.on("elementMouseover.tooltip",function(N){N.pos=[N.pos[0]+t.left,N.pos[1]+t.top];D.tooltipShow(N)});if(g){D.on("tooltipShow",function(N){i(N,L.parentNode)})}f.dispatch.on("elementMouseout.tooltip",function(N){D.tooltipHide(N)});if(g){D.on("tooltipHide",c.tooltip.cleanup)}});s.update=function(){s(x)};s.container=this;return s}s.dispatch=D;s.legend=h;s.xAxis=o;s.yAxis=e;d3.rebind(s,f,"defined","x","y","size","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate");s.margin=function(x){if(!arguments.length){return t}t=x;return s};s.width=function(x){if(!arguments.length){return w}w=x;return s};s.height=function(x){if(!arguments.length){return u}u=x;return s};s.color=function(x){if(!arguments.length){return z}z=c.utils.getColor(x);h.color(z);return s};s.showLegend=function(x){if(!arguments.length){return B}B=x;return s};s.tooltips=function(x){if(!arguments.length){return g}g=x;return s};s.tooltipContent=function(x){if(!arguments.length){return m}m=x;return s};s.noData=function(x){if(!arguments.length){return l}l=x;return s};return s};c.models.line=function(){var l={top:0,right:0,bottom:0,left:0},g=960,v=500,m=c.utils.defaultColor(),f=Math.floor(Math.random()*10000),u=function(w){return w.x},t=function(w){return w.y},s=false,n="linear";var e=c.models.scatter().id(f).size(16).sizeDomain([16,256]),q,p,h,r,i;function o(w){w.each(function(E){var G=g-l.left-l.right,A=v-l.top-l.bottom;q=q||e.xScale();p=p||e.yScale();h=h||q;r=r||p;var y=d3.select(this).selectAll("g.nv-wrap.nv-line").data([E]);var D=y.enter().append("g").attr("class","nvd3 nv-wrap nv-line");var B=D.append("defs");var x=D.append("g");var F=y.select("g");D.append("g").attr("class","nv-scatterWrap");var z=y.select(".nv-scatterWrap").datum(E);x.append("g").attr("class","nv-groups");e.width(G).height(A);d3.transition(z).call(e);y.attr("transform","translate("+l.left+","+l.top+")");B.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");y.select("#nv-edge-clip-"+f+" rect").attr("width",G).attr("height",A);F.attr("clip-path",s?"url(#nv-edge-clip-"+f+")":"");z.attr("clip-path",s?"url(#nv-edge-clip-"+f+")":"");var C=y.select(".nv-groups").selectAll(".nv-group").data(function(I){return I},function(I){return I.key});C.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(C.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();C.attr("class",function(J,I){return"nv-group nv-series-"+I}).classed("hover",function(I){return I.hover}).style("fill",function(J,I){return m(J,I)}).style("stroke",function(J,I){return m(J,I)});d3.transition(C).style("stroke-opacity",1).style("fill-opacity",0.5);var H=C.selectAll("path").data(function(J,I){return[J.values]});H.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(n).x(function(J,I){return h(u(J,I))}).y(function(J,I){return r(t(J,I))}));d3.transition(C.exit().selectAll("path")).attr("d",d3.svg.line().interpolate(n).x(function(J,I){return q(u(J,I))}).y(function(J,I){return p(t(J,I))})).remove();d3.transition(H).attr("d",d3.svg.line().interpolate(n).x(function(J,I){return q(u(J,I))}).y(function(J,I){return p(t(J,I))}));h=q.copy();r=p.copy()});return o}o.dispatch=e.dispatch;d3.rebind(o,e,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","forceX","forceY","forceSize","clipVoronoi","clipRadius");o.margin=function(w){if(!arguments.length){return l}l=w;return o};o.width=function(w){if(!arguments.length){return g}g=w;return o};o.height=function(w){if(!arguments.length){return v}v=w;return o};o.x=function(w){if(!arguments.length){return u}u=w;e.x(w);return o};o.y=function(w){if(!arguments.length){return t}t=w;e.y(w);return o};o.clipEdge=function(w){if(!arguments.length){return s}s=w;return o};o.color=function(w){if(!arguments.length){return m}m=c.utils.getColor(w);e.color(m);return o};o.id=function(w){if(!arguments.length){return f}f=w;return o};o.interpolate=function(w){if(!arguments.length){return n}n=w;return o};o.defined=function(w){if(!arguments.length){return defined}defined=w;return o};return o};c.models.lineWithFocusChart=function(){var g=c.models.line(),r=c.models.line(),s=c.models.axis(),e=c.models.axis(),H=c.models.axis(),l=c.models.axis(),h=c.models.legend(),i=d3.svg.brush();var A={top:30,right:30,bottom:30,left:60},v={top:0,right:30,bottom:20,left:60},D=c.utils.defaultColor(),C=null,B=null,p=100,u,t,E,m,F=true,w=null,f=true,q=function(J,I,M,L,K){return"<h3>"+J+"</h3><p>"+M+" at "+I+"</p>"},o="No Data Available.",G=d3.dispatch("tooltipShow","tooltipHide","brush");g.clipEdge(true);r.interactive(false);s.orient("bottom").tickPadding(5);e.orient("left");H.orient("bottom").tickPadding(5);l.orient("left");var n=function(N,J){var M=N.pos[0]+(J.offsetLeft||0),L=N.pos[1]+(J.offsetTop||0),I=s.tickFormat()(g.x()(N.point,N.pointIndex)),O=e.tickFormat()(g.y()(N.point,N.pointIndex)),K=q(N.series.key,I,O,N,z);c.tooltip.show([M,L],K,null,null,J)};function z(x){x.each(function(Y){var Q=d3.select(this),M=this;var y=(C||parseInt(Q.style("width"))||960)-A.left-A.right,N=(B||parseInt(Q.style("height"))||400)-A.top-A.bottom-p,L=p-v.top-v.bottom;z.update=function(){z(x)};z.container=this;if(!Y||!Y.length||!Y.filter(function(Z){return Z.values.length}).length){var P=Q.selectAll(".nv-noData").data([o]);P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");P.attr("x",A.left+y/2).attr("y",A.top+availableHeight/2).text(function(Z){return Z});return z}else{Q.selectAll(".nv-noData").remove()}u=g.xScale();t=g.yScale();E=r.xScale();m=r.yScale();var O=Q.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([Y]);var T=O.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g");var V=O.select("g");T.append("g").attr("class","nv-legendWrap");var K=T.append("g").attr("class","nv-focus");K.append("g").attr("class","nv-x nv-axis");K.append("g").attr("class","nv-y nv-axis");K.append("g").attr("class","nv-linesWrap");var I=T.append("g").attr("class","nv-context");I.append("g").attr("class","nv-x nv-axis");I.append("g").attr("class","nv-y nv-axis");I.append("g").attr("class","nv-linesWrap");I.append("g").attr("class","nv-brushBackground");I.append("g").attr("class","nv-x nv-brush");if(F){h.width(y);V.select(".nv-legendWrap").datum(Y).call(h);if(A.top!=h.height()){A.top=h.height();N=(B||parseInt(Q.style("height"))||400)-A.top-A.bottom-p}V.select(".nv-legendWrap").attr("transform","translate(0,"+(-A.top)+")")}O.attr("transform","translate("+A.left+","+A.top+")");g.width(y).height(N).color(Y.map(function(aa,Z){return aa.color||D(aa,Z)}).filter(function(aa,Z){return !Y[Z].disabled}));r.defined(g.defined()).width(y).height(L).color(Y.map(function(aa,Z){return aa.color||D(aa,Z)}).filter(function(aa,Z){return !Y[Z].disabled}));V.select(".nv-context").attr("transform","translate(0,"+(N+A.bottom+v.top)+")");var J=V.select(".nv-context .nv-linesWrap").datum(Y.filter(function(Z){return !Z.disabled}));d3.transition(J).call(r);s.scale(u).ticks(y/100).tickSize(-N,0);e.scale(t).ticks(N/36).tickSize(-y,0);V.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+N+")");i.x(E).on("brush",S);if(w){i.extent(w)}var X=V.select(".nv-brushBackground").selectAll("g").data([w||i.extent()]);var W=X.enter().append("g");W.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",L);W.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",L);gBrush=V.select(".nv-x.nv-brush").call(i);gBrush.selectAll("rect").attr("height",L);gBrush.selectAll(".resize").append("path").attr("d",R);S();H.scale(E).ticks(y/100).tickSize(-L,0);V.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+m.range()[0]+")");d3.transition(V.select(".nv-context .nv-x.nv-axis")).call(H);l.scale(m).ticks(L/36).tickSize(-y,0);d3.transition(V.select(".nv-context .nv-y.nv-axis")).call(l);V.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+m.range()[0]+")");h.dispatch.on("legendClick",function(aa,Z){aa.disabled=!aa.disabled;if(!Y.filter(function(ab){return !ab.disabled}).length){Y.map(function(ab){ab.disabled=false;O.selectAll(".nv-series").classed("disabled",false);return ab})}x.transition().call(z)});G.on("tooltipShow",function(Z){if(f){n(Z,M.parentNode)}});function R(ab){var aa=+(ab=="e"),Z=aa?1:-1,ac=L/3;return"M"+(0.5*Z)+","+ac+"A6,6 0 0 "+aa+" "+(6.5*Z)+","+(ac+6)+"V"+(2*ac-6)+"A6,6 0 0 "+aa+" "+(0.5*Z)+","+(2*ac)+"ZM"+(2.5*Z)+","+(ac+8)+"V"+(2*ac-8)+"M"+(4.5*Z)+","+(ac+8)+"V"+(2*ac-8)}function U(){if(!i.empty()){i.extent(w)}X.data([i.empty()?E.domain():w]).each(function(ac,Z){var aa=E(ac[0])-u.range()[0],ab=u.range()[1]-E(ac[1]);d3.select(this).select(".left").attr("width",aa<0?0:aa);d3.select(this).select(".right").attr("x",E(ac[1])).attr("width",ab<0?0:ab)})}function S(){w=i.empty()?null:i.extent();extent=i.empty()?E.domain():i.extent();G.brush({extent:extent,brush:i});U();var Z=V.select(".nv-focus .nv-linesWrap").datum(Y.filter(function(aa){return !aa.disabled}).map(function(ab,aa){return{key:ab.key,values:ab.values.filter(function(ad,ac){return g.x()(ad,ac)>=extent[0]&&g.x()(ad,ac)<=extent[1]})}}));d3.transition(Z).call(g);d3.transition(V.select(".nv-focus .nv-x.nv-axis")).call(s);d3.transition(V.select(".nv-focus .nv-y.nv-axis")).call(e)}});return z}g.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+A.left,x.pos[1]+A.top];G.tooltipShow(x)});g.dispatch.on("elementMouseout.tooltip",function(x){G.tooltipHide(x)});G.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});z.dispatch=G;z.legend=h;z.lines=g;z.lines2=r;z.xAxis=s;z.yAxis=e;z.x2Axis=H;z.y2Axis=l;d3.rebind(z,g,"defined","isArea","size","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id");z.x=function(x){if(!arguments.length){return g.x}g.x(x);r.x(x);return z};z.y=function(x){if(!arguments.length){return g.y}g.y(x);r.y(x);return z};z.margin=function(x){if(!arguments.length){return A}A.top=typeof x.top!="undefined"?x.top:A.top;A.right=typeof x.right!="undefined"?x.right:A.right;A.bottom=typeof x.bottom!="undefined"?x.bottom:A.bottom;A.left=typeof x.left!="undefined"?x.left:A.left;return z};z.margin2=function(x){if(!arguments.length){return v}v=x;return z};z.width=function(x){if(!arguments.length){return C}C=x;return z};z.height=function(x){if(!arguments.length){return B}B=x;return z};z.color=function(x){if(!arguments.length){return D}D=c.utils.getColor(x);h.color(D);return z};z.showLegend=function(x){if(!arguments.length){return F}F=x;return z};z.tooltips=function(x){if(!arguments.length){return f}f=x;return z};z.tooltipContent=function(x){if(!arguments.length){return q}q=x;return z};z.interpolate=function(x){if(!arguments.length){return g.interpolate()}g.interpolate(x);r.interpolate(x);return z};z.noData=function(x){if(!arguments.length){return o}o=x;return z};z.xTickFormat=function(x){if(!arguments.length){return s.tickFormat()}s.tickFormat(x);H.tickFormat(x);return z};z.yTickFormat=function(x){if(!arguments.length){return e.tickFormat()}e.tickFormat(x);l.tickFormat(x);return z};return z};c.models.multiBarChart=function(){var h=c.models.multiBar(),o=c.models.axis(),e=c.models.axis(),g=c.models.legend(),s=c.models.legend();var u={top:30,right:20,bottom:50,left:60},w=null,v=null,z=c.utils.defaultColor(),B=true,A=true,r=true,i=0,f=true,n=function(E,D,H,G,F){return"<h3>"+E+"</h3><p>"+H+" on "+D+"</p>"},q,p,m="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide");h.stacked(false);o.orient("bottom").tickPadding(5).highlightZero(false).showMaxMin(false).tickFormat(function(x){return x});e.orient("left").tickFormat(d3.format(",.1f"));var l=function(I,E){var H=I.pos[0]+(E.offsetLeft||0),G=I.pos[1]+(E.offsetTop||0),D=o.tickFormat()(h.x()(I.point,I.pointIndex)),J=e.tickFormat()(h.y()(I.point,I.pointIndex)),F=n(I.series.key,D,J,I,t);c.tooltip.show([H,G],F,I.value<0?"n":"s",null,E)};function t(x){x.each(function(I){var D=d3.select(this),L=this;var N=(w||parseInt(D.style("width"))||960)-u.left-u.right,G=(v||parseInt(D.style("height"))||400)-u.top-u.bottom;t.update=function(){x.transition().call(t)};t.container=this;if(!I||!I.length||!I.filter(function(O){return O.values.length}).length){var E=D.selectAll(".nv-noData").data([m]);E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");E.attr("x",u.left+N/2).attr("y",u.top+G/2).text(function(O){return O});return t}else{D.selectAll(".nv-noData").remove()}q=h.xScale();p=h.yScale();var F=D.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([I]);var y=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");var J=F.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-barsWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");if(A){g.width(N/2);J.select(".nv-legendWrap").datum(I).call(g);if(u.top!=g.height()){u.top=g.height();G=(v||parseInt(D.style("height"))||400)-u.top-u.bottom}J.select(".nv-legendWrap").attr("transform","translate("+(N/2)+","+(-u.top)+")")}if(B){var M=[{key:"Grouped",disabled:h.stacked()},{key:"Stacked",disabled:!h.stacked()}];s.width(180).color(["#444","#444","#444"]);J.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+(-u.top)+")").call(s)}F.attr("transform","translate("+u.left+","+u.top+")");h.width(N).height(G).color(I.map(function(P,O){return P.color||z(P,O)}).filter(function(P,O){return !I[O].disabled}));var K=J.select(".nv-barsWrap").datum(I.filter(function(O){return !O.disabled}));d3.transition(K).call(h);o.scale(q).ticks(N/100).tickSize(-G,0);J.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");d3.transition(J.select(".nv-x.nv-axis")).call(o);var H=J.select(".nv-x.nv-axis > g").selectAll("g");H.selectAll("line, text").style("opacity",1);if(r){H.filter(function(P,O){return O%Math.ceil(I[0].values.length/(N/100))!==0}).selectAll("text, line").style("opacity",0)}if(i){H.selectAll("text").attr("transform",function(Q,P,O){return"rotate("+i+" 0,0)"}).attr("text-transform",i>0?"start":"end")}e.scale(p).ticks(G/36).tickSize(-N,0);d3.transition(J.select(".nv-y.nv-axis")).call(e);g.dispatch.on("legendClick",function(P,O){P.disabled=!P.disabled;if(!I.filter(function(Q){return !Q.disabled}).length){I.map(function(Q){Q.disabled=false;F.selectAll(".nv-series").classed("disabled",false);return Q})}x.transition().call(t)});s.dispatch.on("legendClick",function(P,O){if(!P.disabled){return}M=M.map(function(Q){Q.disabled=true;return Q});P.disabled=false;switch(P.key){case"Grouped":h.stacked(false);break;case"Stacked":h.stacked(true);break}x.transition().call(t)});C.on("tooltipShow",function(O){if(f){l(O,L.parentNode)}})});return t}h.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+u.left,x.pos[1]+u.top];C.tooltipShow(x)});h.dispatch.on("elementMouseout.tooltip",function(x){C.tooltipHide(x)});C.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});t.dispatch=C;t.multibar=h;t.legend=g;t.xAxis=o;t.yAxis=e;d3.rebind(t,h,"x","y","xDomain","yDomain","forceX","forceY","clipEdge","id","stacked","delay");t.margin=function(x){if(!arguments.length){return u}u.top=typeof x.top!="undefined"?x.top:u.top;u.right=typeof x.right!="undefined"?x.right:u.right;u.bottom=typeof x.bottom!="undefined"?x.bottom:u.bottom;u.left=typeof x.left!="undefined"?x.left:u.left;return t};t.width=function(x){if(!arguments.length){return w}w=x;return t};t.height=function(x){if(!arguments.length){return v}v=x;return t};t.color=function(x){if(!arguments.length){return z}z=c.utils.getColor(x);g.color(z);return t};t.showControls=function(x){if(!arguments.length){return B}B=x;return t};t.showLegend=function(x){if(!arguments.length){return A}A=x;return t};t.reduceXTicks=function(x){if(!arguments.length){return r}r=x;return t};t.rotateLabels=function(x){if(!arguments.length){return i}i=x;return t};t.tooltip=function(x){if(!arguments.length){return n}n=x;return t};t.tooltips=function(x){if(!arguments.length){return f}f=x;return t};t.tooltipContent=function(x){if(!arguments.length){return n}n=x;return t};t.noData=function(x){if(!arguments.length){return m}m=x;return t};return t};c.models.multiBarHorizontalChart=function(){var h=c.models.multiBarHorizontal(),n=c.models.axis(),e=c.models.axis(),g=c.models.legend().height(30),q=c.models.legend().height(30);var s={top:30,right:20,bottom:50,left:60},u=null,t=null,v=c.utils.defaultColor(),A=true,w=true,z=false,f=true,m=function(D,C,G,F,E){return"<h3>"+D+" - "+C+"</h3><p>"+G+"</p>"},p,o,l="No Data Available.",B=d3.dispatch("tooltipShow","tooltipHide");h.stacked(z);n.orient("left").tickPadding(5).highlightZero(false).showMaxMin(false).tickFormat(function(x){return x});e.orient("bottom").tickFormat(d3.format(",.1f"));var i=function(H,D){var G=H.pos[0]+(D.offsetLeft||0),F=H.pos[1]+(D.offsetTop||0),C=n.tickFormat()(h.x()(H.point,H.pointIndex)),I=e.tickFormat()(h.y()(H.point,H.pointIndex)),E=m(H.series.key,C,I,H,r);c.tooltip.show([G,F],E,H.value<0?"e":"w",null,D)};function r(x){x.each(function(H){var C=d3.select(this),K=this;var M=(u||parseInt(C.style("width"))||960)-s.left-s.right,F=(t||parseInt(C.style("height"))||400)-s.top-s.bottom;r.update=function(){x.transition().call(r)};r.container=this;if(!H||!H.length||!H.filter(function(N){return N.values.length}).length){var D=C.selectAll(".nv-noData").data([l]);D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");D.attr("x",s.left+M/2).attr("y",s.top+F/2).text(function(N){return N});return r}else{C.selectAll(".nv-noData").remove()}p=h.xScale();o=h.yScale();var E=C.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([H]);var y=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g");var I=E.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-barsWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");if(w){g.width(M/2);I.select(".nv-legendWrap").datum(H).call(g);if(s.top!=g.height()){s.top=g.height();F=(t||parseInt(C.style("height"))||400)-s.top-s.bottom}I.select(".nv-legendWrap").attr("transform","translate("+(M/2)+","+(-s.top)+")")}if(A){var L=[{key:"Grouped",disabled:h.stacked()},{key:"Stacked",disabled:!h.stacked()}];q.width(180).color(["#444","#444","#444"]);I.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+(-s.top)+")").call(q)}E.attr("transform","translate("+s.left+","+s.top+")");h.width(M).height(F).color(H.map(function(O,N){return O.color||v(O,N)}).filter(function(O,N){return !H[N].disabled}));var J=I.select(".nv-barsWrap").datum(H.filter(function(N){return !N.disabled}));d3.transition(J).call(h);n.scale(p).ticks(F/24).tickSize(-M,0);d3.transition(I.select(".nv-x.nv-axis")).call(n);var G=I.select(".nv-x.nv-axis").selectAll("g");G.selectAll("line, text").style("opacity",1);e.scale(o).ticks(M/100).tickSize(-F,0);I.select(".nv-y.nv-axis").attr("transform","translate(0,"+F+")");d3.transition(I.select(".nv-y.nv-axis")).call(e);g.dispatch.on("legendClick",function(O,N){O.disabled=!O.disabled;if(!H.filter(function(P){return !P.disabled}).length){H.map(function(P){P.disabled=false;E.selectAll(".nv-series").classed("disabled",false);return P})}x.transition().call(r)});q.dispatch.on("legendClick",function(O,N){if(!O.disabled){return}L=L.map(function(P){P.disabled=true;return P});O.disabled=false;switch(O.key){case"Grouped":h.stacked(false);break;case"Stacked":h.stacked(true);break}x.transition().call(r)});B.on("tooltipShow",function(N){if(f){i(N,K.parentNode)}})});return r}h.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+s.left,x.pos[1]+s.top];B.tooltipShow(x)});h.dispatch.on("elementMouseout.tooltip",function(x){B.tooltipHide(x)});B.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});r.dispatch=B;r.multibar=h;r.legend=g;r.xAxis=n;r.yAxis=e;d3.rebind(r,h,"x","y","xDomain","yDomain","forceX","forceY","clipEdge","id","delay","showValues","valueFormat","stacked");r.margin=function(x){if(!arguments.length){return s}s.top=typeof x.top!="undefined"?x.top:s.top;s.right=typeof x.right!="undefined"?x.right:s.right;s.bottom=typeof x.bottom!="undefined"?x.bottom:s.bottom;s.left=typeof x.left!="undefined"?x.left:s.left;return r};r.width=function(x){if(!arguments.length){return u}u=x;return r};r.height=function(x){if(!arguments.length){return t}t=x;return r};r.color=function(x){if(!arguments.length){return v}v=c.utils.getColor(x);g.color(v);return r};r.showControls=function(x){if(!arguments.length){return A}A=x;return r};r.showLegend=function(x){if(!arguments.length){return w}w=x;return r};r.tooltip=function(x){if(!arguments.length){return m}m=x;return r};r.tooltips=function(x){if(!arguments.length){return f}f=x;return r};r.tooltipContent=function(x){if(!arguments.length){return m}m=x;return r};r.noData=function(x){if(!arguments.length){return l}l=x;return r};return r};c.models.multiBarHorizontal=function(){var n={top:0,right:0,bottom:0,left:0},q=960,o=500,p=Math.floor(Math.random()*10000),i=d3.scale.ordinal(),h=d3.scale.linear(),w=function(x){return x.x},u=function(x){return x.y},f=[0],t=c.utils.defaultColor(),A=false,z=false,l=60,g=d3.format(",.2f"),B=1200,s,r,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var v,e;function m(x){x.each(function(L){var O=q-n.left-n.right,G=o-n.top-n.bottom,D=d3.select(this);if(A){L=d3.layout.stack().offset("zero").values(function(P){return P.values}).y(u)(L)}L=L.map(function(Q,P){Q.values=Q.values.map(function(R){R.series=P;return R});return Q});var F=(s&&r)?[]:L.map(function(P){return P.values.map(function(R,Q){return{x:w(R,Q),y:u(R,Q),y0:R.y0}})});i.domain(s||d3.merge(F).map(function(P){return P.x})).rangeBands([0,G],0.1);h.domain(r||d3.extent(d3.merge(F).map(function(P){return P.y+(A?P.y0:0)}).concat(f)));if(z&&!A){h.range([(h.domain()[0]<0?l:0),O-(h.domain()[1]>0?l:0)])}else{h.range([0,O])}v=v||i;e=e||d3.scale.linear().domain(h.domain()).range([h(0),h(0)]);var E=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([L]);var J=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");var H=J.append("defs");var y=J.append("g");var M=E.select("g");y.append("g").attr("class","nv-groups");E.attr("transform","translate("+n.left+","+n.top+")");var I=E.select(".nv-groups").selectAll(".nv-group").data(function(P){return P},function(P){return P.key});I.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(I.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();I.attr("class",function(Q,P){return"nv-group nv-series-"+P}).classed("hover",function(P){return P.hover}).style("fill",function(Q,P){return t(Q,P)}).style("stroke",function(Q,P){return t(Q,P)});d3.transition(I).style("stroke-opacity",1).style("fill-opacity",0.75);var N=I.selectAll("g.nv-bar").data(function(P){return P.values});N.exit().remove();var K=N.enter().append("g").attr("transform",function(R,Q,P){return"translate("+e(A?R.y0:0)+","+(A?0:(P*i.rangeBand()/L.length)+i(w(R,Q)))+")"});K.append("rect").attr("width",0).attr("height",i.rangeBand()/(A?1:L.length));N.on("mouseover",function(Q,P){d3.select(this).classed("hover",true);C.elementMouseover({value:u(Q,P),point:Q,series:L[Q.series],pos:[h(u(Q,P)+(A?Q.y0:0)),i(w(Q,P))+(i.rangeBand()*(A?L.length/2:Q.series+0.5)/L.length)],pointIndex:P,seriesIndex:Q.series,e:d3.event})}).on("mouseout",function(Q,P){d3.select(this).classed("hover",false);C.elementMouseout({value:u(Q,P),point:Q,series:L[Q.series],pointIndex:P,seriesIndex:Q.series,e:d3.event})}).on("click",function(Q,P){C.elementClick({value:u(Q,P),point:Q,series:L[Q.series],pos:[i(w(Q,P))+(i.rangeBand()*(A?L.length/2:Q.series+0.5)/L.length),h(u(Q,P)+(A?Q.y0:0))],pointIndex:P,seriesIndex:Q.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(Q,P){C.elementDblClick({value:u(Q,P),point:Q,series:L[Q.series],pos:[i(w(Q,P))+(i.rangeBand()*(A?L.length/2:Q.series+0.5)/L.length),h(u(Q,P)+(A?Q.y0:0))],pointIndex:P,seriesIndex:Q.series,e:d3.event});d3.event.stopPropagation()});if(z&&!A){K.append("text").attr("text-anchor",function(Q,P){return u(Q,P)<0?"end":"start"});N.select("text").attr("y",i.rangeBand()/2).attr("dy","-.32em").text(function(Q,P){return g(u(Q,P))});d3.transition(N).select("text").attr("x",function(Q,P){return u(Q,P)<0?-4:h(u(Q,P))-h(0)+4})}else{N.selectAll("text").remove()}N.attr("class",function(Q,P){return u(Q,P)<0?"nv-bar negative":"nv-bar positive"});if(A){d3.transition(N).attr("transform",function(Q,P){return"translate("+h(Q.y0)+","+i(w(Q,P))+")"}).select("rect").attr("width",function(Q,P){return Math.abs(h(u(Q,P)+Q.y0)-h(Q.y0))}).attr("height",i.rangeBand())}else{d3.transition(N).attr("transform",function(Q,P){return"translate("+(u(Q,P)<0?h(u(Q,P)):h(0))+","+(Q.series*i.rangeBand()/L.length+i(w(Q,P)))+")"}).select("rect").attr("height",i.rangeBand()/L.length).attr("width",function(Q,P){return Math.abs(h(u(Q,P))-h(0))})}v=i.copy();e=h.copy()});return m}m.dispatch=C;m.x=function(x){if(!arguments.length){return w}w=x;return m};m.y=function(x){if(!arguments.length){return u}u=x;return m};m.margin=function(x){if(!arguments.length){return n}n.top=typeof x.top!="undefined"?x.top:n.top;n.right=typeof x.right!="undefined"?x.right:n.right;n.bottom=typeof x.bottom!="undefined"?x.bottom:n.bottom;n.left=typeof x.left!="undefined"?x.left:n.left;return m};m.width=function(x){if(!arguments.length){return q}q=x;return m};m.height=function(x){if(!arguments.length){return o}o=x;return m};m.xScale=function(x){if(!arguments.length){return i}i=x;return m};m.yScale=function(x){if(!arguments.length){return h}h=x;return m};m.xDomain=function(x){if(!arguments.length){return s}s=x;return m};m.yDomain=function(x){if(!arguments.length){return r}r=x;return m};m.forceY=function(x){if(!arguments.length){return f}f=x;return m};m.stacked=function(x){if(!arguments.length){return A}A=x;return m};m.color=function(x){if(!arguments.length){return t}t=c.utils.getColor(x);return m};m.id=function(x){if(!arguments.length){return p}p=x;return m};m.delay=function(x){if(!arguments.length){return B}B=x;return m};m.showValues=function(x){if(!arguments.length){return z}z=x;return m};m.valueFormat=function(x){if(!arguments.length){return g}g=x;return m};m.valuePadding=function(x){if(!arguments.length){return l}l=x;return m};return m};c.models.multiBar=function(){var l={top:0,right:0,bottom:0,left:0},o=960,m=500,h=d3.scale.ordinal(),g=d3.scale.linear(),n=Math.floor(Math.random()*10000),t=function(x){return x.x},s=function(x){return x.y},f=[0],w=true,v=false,r=c.utils.defaultColor(),z=1200,q,p,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var u,e;function i(x){x.each(function(J){var M=o-l.left-l.right,E=m-l.top-l.bottom,B=d3.select(this);if(v){J=d3.layout.stack().offset("zero").values(function(N){return N.values}).y(s)(J)}J=J.map(function(O,N){O.values=O.values.map(function(P){P.series=N;return P});return O});var D=(q&&p)?[]:J.map(function(N){return N.values.map(function(P,O){return{x:t(P,O),y:s(P,O),y0:P.y0}})});h.domain(d3.merge(D).map(function(N){return N.x})).rangeBands([0,M],0.1);g.domain(p||d3.extent(d3.merge(D).map(function(N){return N.y+(v?N.y0:0)}).concat(f))).range([E,0]);if(h.domain()[0]===h.domain()[1]||g.domain()[0]===g.domain()[1]){singlePoint=true}if(h.domain()[0]===h.domain()[1]){h.domain()[0]?h.domain([h.domain()[0]-h.domain()[0]*0.01,h.domain()[1]+h.domain()[1]*0.01]):h.domain([-1,1])}if(g.domain()[0]===g.domain()[1]){g.domain()[0]?g.domain([g.domain()[0]+g.domain()[0]*0.01,g.domain()[1]-g.domain()[1]*0.01]):g.domain([-1,1])}u=u||h;e=e||g;var C=B.selectAll("g.nv-wrap.nv-multibar").data([J]);var H=C.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar");var F=H.append("defs");var y=H.append("g");var K=C.select("g");y.append("g").attr("class","nv-groups");C.attr("transform","translate("+l.left+","+l.top+")");F.append("clipPath").attr("id","nv-edge-clip-"+n).append("rect");C.select("#nv-edge-clip-"+n+" rect").attr("width",M).attr("height",E);K.attr("clip-path",w?"url(#nv-edge-clip-"+n+")":"");var G=C.select(".nv-groups").selectAll(".nv-group").data(function(N){return N},function(N){return N.key});G.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(G.exit()).selectAll("rect.nv-bar").delay(function(O,N){return N*z/J[0].values.length}).attr("y",function(N){return v?e(N.y0):e(0)}).attr("height",0).remove();G.attr("class",function(O,N){return"nv-group nv-series-"+N}).classed("hover",function(N){return N.hover}).style("fill",function(O,N){return r(O,N)}).style("stroke",function(O,N){return r(O,N)});d3.transition(G).style("stroke-opacity",1).style("fill-opacity",0.75);var L=G.selectAll("rect.nv-bar").data(function(N){return N.values});L.exit().remove();var I=L.enter().append("rect").attr("class",function(O,N){return s(O,N)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(P,O,N){return v?0:(N*h.rangeBand()/J.length)}).attr("y",function(N){return e(v?N.y0:0)}).attr("height",0).attr("width",h.rangeBand()/(v?1:J.length));L.on("mouseover",function(O,N){d3.select(this).classed("hover",true);A.elementMouseover({value:s(O,N),point:O,series:J[O.series],pos:[h(t(O,N))+(h.rangeBand()*(v?J.length/2:O.series+0.5)/J.length),g(s(O,N)+(v?O.y0:0))],pointIndex:N,seriesIndex:O.series,e:d3.event})}).on("mouseout",function(O,N){d3.select(this).classed("hover",false);A.elementMouseout({value:s(O,N),point:O,series:J[O.series],pointIndex:N,seriesIndex:O.series,e:d3.event})}).on("click",function(O,N){A.elementClick({value:s(O,N),point:O,series:J[O.series],pos:[h(t(O,N))+(h.rangeBand()*(v?J.length/2:O.series+0.5)/J.length),g(s(O,N)+(v?O.y0:0))],pointIndex:N,seriesIndex:O.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(O,N){A.elementDblClick({value:s(O,N),point:O,series:J[O.series],pos:[h(t(O,N))+(h.rangeBand()*(v?J.length/2:O.series+0.5)/J.length),g(s(O,N)+(v?O.y0:0))],pointIndex:N,seriesIndex:O.series,e:d3.event});d3.event.stopPropagation()});L.attr("class",function(O,N){return s(O,N)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(O,N){return"translate("+h(t(O,N))+",0)"});if(v){d3.transition(L).delay(function(O,N){return N*z/J[0].values.length}).attr("y",function(O,N){return g(s(O,N)+(v?O.y0:0))}).attr("height",function(O,N){return Math.abs(g(O.y+(v?O.y0:0))-g((v?O.y0:0)))}).each("end",function(){d3.transition(d3.select(this)).attr("x",function(O,N){return v?0:(O.series*h.rangeBand()/J.length)}).attr("width",h.rangeBand()/(v?1:J.length))})}else{d3.transition(L).delay(function(O,N){return N*z/J[0].values.length}).attr("x",function(O,N){return O.series*h.rangeBand()/J.length}).attr("width",h.rangeBand()/J.length).each("end",function(){d3.transition(d3.select(this)).attr("y",function(O,N){return s(O,N)<0?g(0):g(s(O,N))}).attr("height",function(O,N){return Math.abs(g(s(O,N))-g(0))})})}u=h.copy();e=g.copy()});return i}i.dispatch=A;i.x=function(x){if(!arguments.length){return t}t=x;return i};i.y=function(x){if(!arguments.length){return s}s=x;return i};i.margin=function(x){if(!arguments.length){return l}l.top=typeof x.top!="undefined"?x.top:l.top;l.right=typeof x.right!="undefined"?x.right:l.right;l.bottom=typeof x.bottom!="undefined"?x.bottom:l.bottom;l.left=typeof x.left!="undefined"?x.left:l.left;return i};i.width=function(x){if(!arguments.length){return o}o=x;return i};i.height=function(x){if(!arguments.length){return m}m=x;return i};i.xScale=function(x){if(!arguments.length){return h}h=x;return i};i.yScale=function(x){if(!arguments.length){return g}g=x;return i};i.xDomain=function(x){if(!arguments.length){return q}q=x;return i};i.yDomain=function(x){if(!arguments.length){return p}p=x;return i};i.forceY=function(x){if(!arguments.length){return f}f=x;return i};i.stacked=function(x){if(!arguments.length){return v}v=x;return i};i.clipEdge=function(x){if(!arguments.length){return w}w=x;return i};i.color=function(x){if(!arguments.length){return r}r=c.utils.getColor(x);return i};i.id=function(x){if(!arguments.length){return n}n=x;return i};i.delay=function(x){if(!arguments.length){return z}z=x;return i};return i};c.models.multiBarTimeSeriesChart=function(){var h=c.models.multiBarTimeSeries(),o=c.models.axis(),e=c.models.axis(),g=c.models.legend(),s=c.models.legend();var u={top:30,right:20,bottom:50,left:60},w=null,v=null,z=c.utils.defaultColor(),B=true,A=true,r=true,i=0,f=true,n=function(E,D,H,G,F){return"<h3>"+E+"</h3><p>"+H+" on "+D+"</p>"},q,p,m="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide");h.stacked(false);o.orient("bottom").tickPadding(5).highlightZero(false).showMaxMin(false);e.orient("left").tickFormat(d3.format(",.1f"));var l=function(I,E){var H=I.pos[0]+(E.offsetLeft||0),G=I.pos[1]+(E.offsetTop||0),D=o.tickFormat()(h.x()(I.point,I.pointIndex)),J=e.tickFormat()(h.y()(I.point,I.pointIndex)),F=n(I.series.key,D,J,I,t);c.tooltip.show([H,G],F,I.value<0?"n":"s",null,E)};function t(x){x.each(function(I){var D=d3.select(this),L=this;var N=(w||parseInt(D.style("width"))||960)-u.left-u.right,G=(v||parseInt(D.style("height"))||400)-u.top-u.bottom;t.update=function(){x.transition().call(t)};t.container=this;if(!I||!I.length||!I.filter(function(O){return O.values.length}).length){var E=D.selectAll(".nv-noData").data([m]);E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");E.attr("x",u.left+N/2).attr("y",u.top+G/2).text(function(O){return O});return t}else{D.selectAll(".nv-noData").remove()}q=h.xScale();p=h.yScale();var F=D.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([I]);var y=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");var J=F.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-barsWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");if(A){g.width(N/2);J.select(".nv-legendWrap").datum(I).call(g);if(u.top!=g.height()){u.top=g.height();G=(v||parseInt(D.style("height"))||400)-u.top-u.bottom}J.select(".nv-legendWrap").attr("transform","translate("+(N/2)+","+(-u.top)+")")}if(B){var M=[{key:"Grouped",disabled:h.stacked()},{key:"Stacked",disabled:!h.stacked()}];s.width(180).color(["#444","#444","#444"]);J.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+(-u.top)+")").call(s)}F.attr("transform","translate("+u.left+","+u.top+")");h.width(N).height(G).color(I.map(function(P,O){return P.color||z(P,O)}).filter(function(P,O){return !I[O].disabled}));var K=J.select(".nv-barsWrap").datum(I.filter(function(O){return !O.disabled}));d3.transition(K).call(h);o.scale(q).ticks(N/100).tickSize(-G,0);J.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");d3.transition(J.select(".nv-x.nv-axis")).call(o);var H=J.select(".nv-x.nv-axis > g").selectAll("g");H.selectAll("line, text").style("opacity",1);if(r){H.filter(function(P,O){return O%Math.ceil(I[0].values.length/(N/100))!==0}).selectAll("text, line").style("opacity",0)}if(i){H.selectAll("text").attr("transform",function(Q,P,O){return"rotate("+i+" 0,0)"}).attr("text-transform",i>0?"start":"end")}e.scale(p).ticks(G/36).tickSize(-N,0);d3.transition(J.select(".nv-y.nv-axis")).call(e);g.dispatch.on("legendClick",function(P,O){P.disabled=!P.disabled;if(!I.filter(function(Q){return !Q.disabled}).length){I.map(function(Q){Q.disabled=false;F.selectAll(".nv-series").classed("disabled",false);return Q})}x.transition().call(t)});s.dispatch.on("legendClick",function(P,O){if(!P.disabled){return}M=M.map(function(Q){Q.disabled=true;return Q});P.disabled=false;switch(P.key){case"Grouped":h.stacked(false);break;case"Stacked":h.stacked(true);break}x.transition().call(t)});C.on("tooltipShow",function(O){if(f){l(O,L.parentNode)}})});return t}h.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+u.left,x.pos[1]+u.top];C.tooltipShow(x)});h.dispatch.on("elementMouseout.tooltip",function(x){C.tooltipHide(x)});C.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});t.dispatch=C;t.multibar=h;t.legend=g;t.xAxis=o;t.yAxis=e;d3.rebind(t,h,"x","y","xDomain","yDomain","forceX","forceY","clipEdge","id","stacked","delay");t.margin=function(x){if(!arguments.length){return u}u.top=typeof x.top!="undefined"?x.top:u.top;u.right=typeof x.right!="undefined"?x.right:u.right;u.bottom=typeof x.bottom!="undefined"?x.bottom:u.bottom;u.left=typeof x.left!="undefined"?x.left:u.left;return t};t.width=function(x){if(!arguments.length){return w}w=x;return t};t.height=function(x){if(!arguments.length){return v}v=x;return t};t.color=function(x){if(!arguments.length){return z}z=c.utils.getColor(x);g.color(z);return t};t.showControls=function(x){if(!arguments.length){return B}B=x;return t};t.showLegend=function(x){if(!arguments.length){return A}A=x;return t};t.reduceXTicks=function(x){if(!arguments.length){return r}r=x;return t};t.rotateLabels=function(x){if(!arguments.length){return i}i=x;return t};t.tooltip=function(x){if(!arguments.length){return n}n=x;return t};t.tooltips=function(x){if(!arguments.length){return f}f=x;return t};t.tooltipContent=function(x){if(!arguments.length){return n}n=x;return t};t.noData=function(x){if(!arguments.length){return m}m=x;return t};return t};c.models.multiBarTimeSeries=function(){var l={top:0,right:0,bottom:0,left:0},o=960,m=500,h=d3.time.scale(),g=d3.scale.linear(),n=Math.floor(Math.random()*10000),t=function(x){return x.x},s=function(x){return x.y},f=[0],w=true,v=false,r=c.utils.defaultColor(),z=1200,q,p,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var u,e;function i(x){x.each(function(M){var P=o-l.left-l.right,F=m-l.top-l.bottom,C=d3.select(this);if(v){M=d3.layout.stack().offset("zero").values(function(R){return R.values}).y(s)(M)}M=M.map(function(S,R){S.values=S.values.map(function(T){T.series=R;return T});return S});var E=(q&&p)?[]:M.map(function(R){return R.values.map(function(T,S){return{x:t(T,S),y:s(T,S),y0:T.y0}})});h.domain(d3.extent(d3.merge(E).map(function(R){return R.x}))).range([0,P]);g.domain(p||d3.extent(d3.merge(E).map(function(R){return R.y+(v?R.y0:0)}).concat(f))).range([F,0]);if(h.domain()[0]===h.domain()[1]||g.domain()[0]===g.domain()[1]){singlePoint=true}if(h.domain()[0]===h.domain()[1]){h.domain()[0]?h.domain([h.domain()[0]-h.domain()[0]*0.01,h.domain()[1]+h.domain()[1]*0.01]):h.domain([-1,1])}if(g.domain()[0]===g.domain()[1]){g.domain()[0]?g.domain([g.domain()[0]+g.domain()[0]*0.01,g.domain()[1]-g.domain()[1]*0.01]):g.domain([-1,1])}u=u||h;e=e||g;var D=C.selectAll("g.nv-wrap.nv-multibar").data([M]);var J=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar");var G=J.append("defs");var B=J.append("g");var N=D.select("g");B.append("g").attr("class","nv-groups");D.attr("transform","translate("+l.left+","+l.top+")");G.append("clipPath").attr("id","nv-edge-clip-"+n).append("rect");D.select("#nv-edge-clip-"+n+" rect").attr("width",P).attr("height",F);N.attr("clip-path",w?"url(#nv-edge-clip-"+n+")":"");var H=D.select(".nv-groups").selectAll(".nv-group").data(function(R){return R},function(R){return R.key});H.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(H.exit()).selectAll("rect.nv-bar").delay(function(S,R){return R*z/M[0].values.length}).attr("y",function(R){return v?e(R.y0):e(0)}).attr("height",0).remove();H.attr("class",function(S,R){return"nv-group nv-series-"+R}).classed("hover",function(R){return R.hover}).style("fill",function(S,R){return r(S,R)}).style("stroke",function(S,R){return r(S,R)});d3.transition(H).style("stroke-opacity",1).style("fill-opacity",0.75);var O=H.selectAll("rect.nv-bar").data(function(R){return R.values});O.exit().remove();var y=0;for(var I=0;I<E.length;I+=1){y=Math.max(E[I].length,y)}var K=(P/y)-0.1;var Q=K/M.length;var L=O.enter().append("rect").attr("class",function(S,R){return s(S,R)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(T,S,R){return v?0:(S*K)+(R*Q)}).attr("y",function(R){return e(v?R.y0:0)}).attr("height",0).attr("width",v?K:Q);O.on("mouseover",function(S,R){d3.select(this).classed("hover",true);A.elementMouseover({value:s(S,R),point:S,series:M[S.series],pos:[h(t(S,R))+(Q*(v?M.length/2:S.series+0.5)/M.length),g(s(S,R)+(v?S.y0:0))],pointIndex:R,seriesIndex:S.series,e:d3.event})}).on("mouseout",function(S,R){d3.select(this).classed("hover",false);A.elementMouseout({value:s(S,R),point:S,series:M[S.series],pointIndex:R,seriesIndex:S.series,e:d3.event})}).on("click",function(S,R){A.elementClick({value:s(S,R),point:S,series:M[S.series],pos:[h(t(S,R))+(Q*(v?M.length/2:S.series+0.5)/M.length),g(s(S,R)+(v?S.y0:0))],pointIndex:R,seriesIndex:S.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(S,R){A.elementDblClick({value:s(S,R),point:S,series:M[S.series],pos:[h(t(S,R))+(Q*(v?M.length/2:S.series+0.5)/M.length),g(s(S,R)+(v?S.y0:0))],pointIndex:R,seriesIndex:S.series,e:d3.event});d3.event.stopPropagation()});O.attr("class",function(S,R){return s(S,R)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(S,R){return"translate("+h(t(S,R))+",0)"});if(v){d3.transition(O).delay(function(S,R){return R*z/M[0].values.length}).attr("y",function(S,R){return g(s(S,R)+(v?S.y0:0))}).attr("height",function(S,R){return Math.abs(g(S.y+(v?S.y0:0))-g((v?S.y0:0)))}).each("end",function(){d3.transition(d3.select(this)).attr("x",function(S,R){return v?0:(R*K)+(j*Q)}).attr("width",v?K:Q)})}else{d3.transition(O).delay(function(S,R){return R*z/M[0].values.length}).attr("x",function(S,R){return S.series*Q}).attr("width",Q).each("end",function(){d3.transition(d3.select(this)).attr("y",function(S,R){return s(S,R)<0?g(0):g(s(S,R))}).attr("height",function(S,R){return Math.abs(g(s(S,R))-g(0))})})}u=h.copy();e=g.copy()});return i}i.dispatch=A;i.x=function(x){if(!arguments.length){return t}t=x;return i};i.y=function(x){if(!arguments.length){return s}s=x;return i};i.margin=function(x){if(!arguments.length){return l}l.top=typeof x.top!="undefined"?x.top:l.top;l.right=typeof x.right!="undefined"?x.right:l.right;l.bottom=typeof x.bottom!="undefined"?x.bottom:l.bottom;l.left=typeof x.left!="undefined"?x.left:l.left;return i};i.width=function(x){if(!arguments.length){return o}o=x;return i};i.height=function(x){if(!arguments.length){return m}m=x;return i};i.xScale=function(x){if(!arguments.length){return h}h=x;return i};i.yScale=function(x){if(!arguments.length){return g}g=x;return i};i.xDomain=function(x){if(!arguments.length){return q}q=x;return i};i.yDomain=function(x){if(!arguments.length){return p}p=x;return i};i.forceY=function(x){if(!arguments.length){return f}f=x;return i};i.stacked=function(x){if(!arguments.length){return v}v=x;return i};i.clipEdge=function(x){if(!arguments.length){return w}w=x;return i};i.color=function(x){if(!arguments.length){return r}r=c.utils.getColor(x);return i};i.id=function(x){if(!arguments.length){return n}n=x;return i};i.delay=function(x){if(!arguments.length){return z}z=x;return i};return i};c.models.multiChart=function(){var w={top:30,right:20,bottom:50,left:60},B=d3.scale.category20().range(),A=null,z=null,C=true,h=true,n=function(H,G,K,J,I){return"<h3>"+H+"</h3><p>"+K+" at "+G+"</p>"},u,t;var u=d3.scale.linear(),E=d3.scale.linear(),D=d3.scale.linear(),r=c.models.line().yScale(E),q=c.models.line().yScale(D),l=c.models.multiBar().stacked(false).yScale(E),g=c.models.multiBar().stacked(false).yScale(D),p=c.models.stackedArea().yScale(E),o=c.models.stackedArea().yScale(D),s=c.models.axis().scale(u).orient("bottom").tickPadding(5),f=c.models.axis().scale(E).orient("left"),e=c.models.axis().scale(D).orient("right"),i=c.models.legend().height(30),F=d3.dispatch("tooltipShow","tooltipHide");var m=function(L,H){var K=L.pos[0]+(H.offsetLeft||0),J=L.pos[1]+(H.offsetTop||0),G=s.tickFormat()(r.x()(L.point,L.pointIndex)),M=(L.series.bar?f:e).tickFormat()(r.y()(L.point,L.pointIndex)),I=n(L.series.key,G,M,L,v);c.tooltip.show([K,J],I,undefined,undefined,H.offsetParent)};function v(x){x.each(function(ac){var R=d3.select(this),J=this;var y=(A||parseInt(R.style("width"))||960)-w.left-w.right,H=(z||parseInt(R.style("height"))||400)-w.top-w.bottom;var U=ac.filter(function(ad){return !ad.disabled&&ad.type=="line"&&ad.yAxis==1});var T=ac.filter(function(ad){return !ad.disabled&&ad.type=="line"&&ad.yAxis==2});var Y=ac.filter(function(ad){return !ad.disabled&&ad.type=="bar"&&ad.yAxis==1});var X=ac.filter(function(ad){return !ad.disabled&&ad.type=="bar"&&ad.yAxis==2});var Q=ac.filter(function(ad){return !ad.disabled&&ad.type=="area"&&ad.yAxis==1});var O=ac.filter(function(ad){return !ad.disabled&&ad.type=="area"&&ad.yAxis==2});var L=ac.filter(function(ad){return !ad.disabled&&ad.yAxis==1}).map(function(ad){return ad.values.map(function(af,ae){return{x:af.x,y:af.y}})});var K=ac.filter(function(ad){return !ad.disabled&&ad.yAxis==2}).map(function(ad){return ad.values.map(function(af,ae){return{x:af.x,y:af.y}})});u.domain(d3.extent(d3.merge(L.concat(K)),function(ad){return ad.x})).range([0,y]);var M=R.selectAll("g.wrap.multiChart").data([ac]);var V=M.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");V.append("g").attr("class","x axis");V.append("g").attr("class","y1 axis");V.append("g").attr("class","y2 axis");V.append("g").attr("class","lines1Wrap");V.append("g").attr("class","lines2Wrap");V.append("g").attr("class","bars1Wrap");V.append("g").attr("class","bars2Wrap");V.append("g").attr("class","stack1Wrap");V.append("g").attr("class","stack2Wrap");V.append("g").attr("class","legendWrap");var Z=M.select("g");if(C){i.width(y/2);Z.select(".legendWrap").datum(ac.map(function(ad){ad.originalKey=ad.originalKey===undefined?ad.key:ad.originalKey;ad.key=ad.originalKey+(ad.yAxis==1?"":" (right axis)");return ad})).call(i);if(w.top!=i.height()){w.top=i.height();H=(z||parseInt(R.style("height"))||400)-w.top-w.bottom}Z.select(".legendWrap").attr("transform","translate("+(y/2)+","+(-w.top)+")")}r.width(y).height(H).interpolate("monotone").color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==1&&ac[ad].type=="line"}));q.width(y).height(H).interpolate("monotone").color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==2&&ac[ad].type=="line"}));l.width(y).height(H).color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==1&&ac[ad].type=="bar"}));g.width(y).height(H).color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==2&&ac[ad].type=="bar"}));p.width(y).height(H).color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==1&&ac[ad].type=="area"}));o.width(y).height(H).color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==2&&ac[ad].type=="area"}));Z.attr("transform","translate("+w.left+","+w.top+")");var G=Z.select(".lines1Wrap").datum(U);var I=Z.select(".bars1Wrap").datum(Y);var ab=Z.select(".stack1Wrap").datum(Q);var W=Z.select(".lines2Wrap").datum(T);var aa=Z.select(".bars2Wrap").datum(X);var S=Z.select(".stack2Wrap").datum(O);var P=Q.length?Q.map(function(ad){return ad.values}).reduce(function(ae,ad){return ae.map(function(af,ag){return{x:af.x,y:af.y+ad[ag].y}})}).concat([{x:0,y:0}]):[];var N=O.length?O.map(function(ad){return ad.values}).reduce(function(ae,ad){return ae.map(function(af,ag){return{x:af.x,y:af.y+ad[ag].y}})}).concat([{x:0,y:0}]):[];E.domain(d3.extent(d3.merge(L).concat(P),function(ad){return ad.y})).range([0,H]);D.domain(d3.extent(d3.merge(K).concat(N),function(ad){return ad.y})).range([0,H]);r.yDomain(E.domain());l.yDomain(E.domain());p.yDomain(E.domain());q.yDomain(D.domain());g.yDomain(D.domain());o.yDomain(D.domain());if(Q.length){d3.transition(ab).call(p)}if(O.length){d3.transition(S).call(o)}if(Y.length){d3.transition(I).call(l)}if(X.length){d3.transition(aa).call(g)}if(U.length){d3.transition(G).call(r)}if(T.length){d3.transition(W).call(q)}s.ticks(y/100).tickSize(-H,0);Z.select(".x.axis").attr("transform","translate(0,"+H+")");d3.transition(Z.select(".x.axis")).call(s);f.ticks(H/36).tickSize(-y,0);d3.transition(Z.select(".y1.axis")).call(f);e.ticks(H/36).tickSize(-y,0);d3.transition(Z.select(".y2.axis")).call(e);Z.select(".y2.axis").style("opacity",K.length?1:0).attr("transform","translate("+u.range()[1]+",0)");i.dispatch.on("legendClick",function(ae,ad){ae.disabled=!ae.disabled;if(!ac.filter(function(af){return !af.disabled}).length){ac.map(function(af){af.disabled=false;M.selectAll(".series").classed("disabled",false);return af})}x.transition().call(v)});F.on("tooltipShow",function(ad){if(h){m(ad,J.parentNode)}})});v.update=function(){v(x)};v.container=this;return v}r.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});r.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});q.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});q.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});l.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});l.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});g.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});g.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});p.dispatch.on("tooltipShow",function(x){if(!Math.round(p.y()(x.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}x.pos=[x.pos[0]+w.left,x.pos[1]+w.top],F.tooltipShow(x)});p.dispatch.on("tooltipHide",function(x){F.tooltipHide(x)});o.dispatch.on("tooltipShow",function(x){if(!Math.round(o.y()(x.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}x.pos=[x.pos[0]+w.left,x.pos[1]+w.top],F.tooltipShow(x)});o.dispatch.on("tooltipHide",function(x){F.tooltipHide(x)});r.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});r.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});q.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});q.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});F.on("tooltipHide",function(){if(h){c.tooltip.cleanup()}});v.dispatch=F;v.lines1=r;v.lines2=q;v.bars1=l;v.bars2=g;v.stack1=p;v.stack2=o;v.xAxis=s;v.yAxis1=f;v.yAxis2=e;v.x=function(x){if(!arguments.length){return getX}getX=x;r.x(x);l.x(x);return v};v.y=function(x){if(!arguments.length){return getY}getY=x;r.y(x);l.y(x);return v};v.margin=function(x){if(!arguments.length){return w}w=x;return v};v.width=function(x){if(!arguments.length){return A}A=x;return v};v.height=function(x){if(!arguments.length){return z}z=x;return v};v.color=function(x){if(!arguments.length){return B}B=x;i.color(x);return v};v.showLegend=function(x){if(!arguments.length){return C}C=x;return v};v.tooltips=function(x){if(!arguments.length){return h}h=x;return v};v.tooltipContent=function(x){if(!arguments.length){return n}n=x;return v};return v};c.models.ohlcBar=function(){var o={top:0,right:0,bottom:0,left:0},s=960,p=500,q=Math.floor(Math.random()*10000),l=d3.scale.linear(),i=d3.scale.linear(),w=function(x){return x.x},v=function(x){return x.y},f=function(x){return x.open},e=function(x){return x.close},A=function(x){return x.high},m=function(x){return x.low},h=[],g=[],z=true,u=c.utils.defaultColor(),t,r,B=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function n(x){x.each(function(I){var L=s-o.left-o.right,F=p-o.top-o.bottom,C=d3.select(this);l.domain(t||d3.extent(I[0].values.map(w).concat(h))).range([0,L]);i.domain(r||[d3.min(I[0].values.map(m).concat(g)),d3.max(I[0].values.map(A).concat(g))]).range([F,0]);if(l.domain()[0]===l.domain()[1]||i.domain()[0]===i.domain()[1]){singlePoint=true}if(l.domain()[0]===l.domain()[1]){l.domain()[0]?l.domain([l.domain()[0]-l.domain()[0]*0.01,l.domain()[1]+l.domain()[1]*0.01]):l.domain([-1,1])}if(i.domain()[0]===i.domain()[1]){i.domain()[0]?i.domain([i.domain()[0]+i.domain()[0]*0.01,i.domain()[1]-i.domain()[1]*0.01]):i.domain([-1,1])}var D=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([I[0].values]);var H=D.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar");var G=H.append("defs");var y=H.append("g");var J=D.select("g");y.append("g").attr("class","nv-ticks");D.attr("transform","translate("+o.left+","+o.top+")");C.on("click",function(N,M){B.chartClick({data:N,index:M,pos:d3.event,id:q})});G.append("clipPath").attr("id","nv-chart-clip-path-"+q).append("rect");D.select("#nv-chart-clip-path-"+q+" rect").attr("width",L).attr("height",F);J.attr("clip-path",z?"url(#nv-chart-clip-path-"+q+")":"");var K=D.select(".nv-ticks").selectAll(".nv-tick").data(function(M){return M});K.exit().remove();var E=K.enter().append("path").attr("class",function(O,N,M){return(f(O,N)>e(O,N)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+M+"-"+N}).attr("d",function(O,N){var M=(L/I[0].values.length)*0.9;return"m0,0l0,"+(i(f(O,N))-i(A(O,N)))+"l"+(-M/2)+",0l"+(M/2)+",0l0,"+(i(m(O,N))-i(f(O,N)))+"l0,"+(i(e(O,N))-i(m(O,N)))+"l"+(M/2)+",0l"+(-M/2)+",0z"}).attr("transform",function(N,M){return"translate("+l(w(N,M))+","+i(A(N,M))+")"}).on("mouseover",function(N,M){d3.select(this).classed("hover",true);B.elementMouseover({point:N,series:I[0],pos:[l(w(N,M)),i(v(N,M))],pointIndex:M,seriesIndex:0,e:d3.event})}).on("mouseout",function(N,M){d3.select(this).classed("hover",false);B.elementMouseout({point:N,series:I[0],pointIndex:M,seriesIndex:0,e:d3.event})}).on("click",function(N,M){B.elementClick({value:v(N,M),data:N,index:M,pos:[l(w(N,M)),i(v(N,M))],e:d3.event,id:q});d3.event.stopPropagation()}).on("dblclick",function(N,M){B.elementDblClick({value:v(N,M),data:N,index:M,pos:[l(w(N,M)),i(v(N,M))],e:d3.event,id:q});d3.event.stopPropagation()});K.attr("class",function(O,N,M){return(f(O,N)>e(O,N)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+M+"-"+N});d3.transition(K).attr("transform",function(N,M){return"translate("+l(w(N,M))+","+i(A(N,M))+")"}).attr("d",function(O,N){var M=(L/I[0].values.length)*0.9;return"m0,0l0,"+(i(f(O,N))-i(A(O,N)))+"l"+(-M/2)+",0l"+(M/2)+",0l0,"+(i(m(O,N))-i(f(O,N)))+"l0,"+(i(e(O,N))-i(m(O,N)))+"l"+(M/2)+",0l"+(-M/2)+",0z"})});return n}n.dispatch=B;n.x=function(x){if(!arguments.length){return w}w=x;return n};n.y=function(x){if(!arguments.length){return v}v=x;return n};n.open=function(x){if(!arguments.length){return f}f=x;return n};n.close=function(x){if(!arguments.length){return e}e=x;return n};n.high=function(x){if(!arguments.length){return A}A=x;return n};n.low=function(x){if(!arguments.length){return m}m=x;return n};n.margin=function(x){if(!arguments.length){return o}o.top=typeof x.top!="undefined"?x.top:o.top;o.right=typeof x.right!="undefined"?x.right:o.right;o.bottom=typeof x.bottom!="undefined"?x.bottom:o.bottom;o.left=typeof x.left!="undefined"?x.left:o.left;return n};n.width=function(x){if(!arguments.length){return s}s=x;return n};n.height=function(x){if(!arguments.length){return p}p=x;return n};n.xScale=function(x){if(!arguments.length){return l}l=x;return n};n.yScale=function(x){if(!arguments.length){return i}i=x;return n};n.xDomain=function(x){if(!arguments.length){return t}t=x;return n};n.yDomain=function(x){if(!arguments.length){return r}r=x;return n};n.forceX=function(x){if(!arguments.length){return h}h=x;return n};n.forceY=function(x){if(!arguments.length){return g}g=x;return n};n.clipEdge=function(x){if(!arguments.length){return z}z=x;return n};n.color=function(x){if(!arguments.length){return u}u=c.utils.getColor(x);return n};n.id=function(x){if(!arguments.length){return q}q=x;return n};return n};c.models.pieChart=function(){var h=c.models.pie(),n=c.models.legend();var f={top:30,right:20,bottom:20,left:20},e=null,r=null,q=true,g=c.utils.defaultColor(),m=true,s=function(t,w,v,u){return"<h3>"+t+"</h3><p>"+w+"</p>"},p="No Data Available.",i=d3.dispatch("tooltipShow","tooltipHide");var o=function(x,t){var w=x.pos[0]+((t&&t.offsetLeft)||0),v=x.pos[1]+((t&&t.offsetTop)||0),z=h.valueFormat()(h.y()(x.point)),u=s(h.x()(x.point),z,x,l);c.tooltip.show([w,v],u,x.value<0?"n":"s",null,t)};function l(t){t.each(function(z){var v=d3.select(this),B=this;var D=(e||parseInt(v.style("width"))||960)-f.left-f.right,y=(r||parseInt(v.style("height"))||400)-f.top-f.bottom;l.update=function(){l(t)};l.container=this;if(!z||!z.length){var w=v.selectAll(".nv-noData").data([p]);w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");w.attr("x",f.left+D/2).attr("y",f.top+y/2).text(function(E){return E});return l}else{v.selectAll(".nv-noData").remove()}var x=v.selectAll("g.nv-wrap.nv-pieChart").data([z]);var u=x.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g");var A=x.select("g");u.append("g").attr("class","nv-pieWrap");u.append("g").attr("class","nv-legendWrap");if(q){n.width(D).key(h.x());x.select(".nv-legendWrap").datum(h.values()(z[0])).call(n);if(f.top!=n.height()){f.top=n.height();y=(r||parseInt(v.style("height"))||400)-f.top-f.bottom}x.select(".nv-legendWrap").attr("transform","translate(0,"+(-f.top)+")")}x.attr("transform","translate("+f.left+","+f.top+")");h.width(D).height(y);var C=A.select(".nv-pieWrap").datum(z);d3.transition(C).call(h);n.dispatch.on("legendClick",function(G,E,F){G.disabled=!G.disabled;if(!h.values()(z[0]).filter(function(H){return !H.disabled}).length){h.values()(z[0]).map(function(H){H.disabled=false;x.selectAll(".nv-series").classed("disabled",false);return H})}t.transition().call(l)});h.dispatch.on("elementMouseout.tooltip",function(E){i.tooltipHide(E)})});return l}h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+f.left,t.pos[1]+f.top];i.tooltipShow(t)});i.on("tooltipShow",function(t){if(m){o(t)}});i.on("tooltipHide",function(){if(m){c.tooltip.cleanup()}});l.dispatch=i;l.pie=h;d3.rebind(l,h,"valueFormat","values","x","y","id","showLabels","donutLabelsOutside","donut","labelThreshold");l.margin=function(t){if(!arguments.length){return f}f.top=typeof t.top!="undefined"?t.top:f.top;f.right=typeof t.right!="undefined"?t.right:f.right;f.bottom=typeof t.bottom!="undefined"?t.bottom:f.bottom;f.left=typeof t.left!="undefined"?t.left:f.left;return l};l.width=function(t){if(!arguments.length){return e}e=t;return l};l.height=function(t){if(!arguments.length){return r}r=t;return l};l.color=function(t){if(!arguments.length){return g}g=c.utils.getColor(t);n.color(g);h.color(g);return l};l.showLegend=function(t){if(!arguments.length){return q}q=t;return l};l.tooltips=function(t){if(!arguments.length){return m}m=t;return l};l.tooltipContent=function(t){if(!arguments.length){return s}s=t;return l};l.noData=function(t){if(!arguments.length){return p}p=t;return l};return l};c.models.pie=function(){var i={top:0,right:0,bottom:0,left:0},g=500,u=500,m=function(v){return v.values},t=function(v){return v.x},s=function(v){return v.y},f=Math.floor(Math.random()*10000),l=c.utils.defaultColor(),o=d3.format(",.2f"),q=true,e=false,h=0.02,n=false,p=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function r(v){v.each(function(N){var w=g-i.left-i.right,z=u-i.top-i.bottom,A=Math.min(w,z)/2,F=d3.select(this);var E=F.selectAll(".nv-wrap.nv-pie").data([m(N[0])]);var B=E.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+f);var J=B.append("g");var K=E.select("g");J.append("g").attr("class","nv-pie");E.attr("transform","translate("+i.left+","+i.top+")");K.select(".nv-pie").attr("transform","translate("+w/2+","+z/2+")");F.on("click",function(P,O){p.chartClick({data:P,index:O,pos:d3.event,id:f})});var D=d3.svg.arc().outerRadius((A-(A/5)));if(n){D.innerRadius(A/2)}var G=d3.layout.pie().sort(null).value(function(O){return O.disabled?0:s(O)});var x=E.select(".nv-pie").selectAll(".nv-slice").data(G);x.exit().remove();var M=x.enter().append("g").attr("class","nv-slice").on("mouseover",function(P,O){d3.select(this).classed("hover",true);p.elementMouseover({label:t(P.data),value:s(P.data),point:P.data,pointIndex:O,pos:[d3.event.pageX,d3.event.pageY],id:f})}).on("mouseout",function(P,O){d3.select(this).classed("hover",false);p.elementMouseout({label:t(P.data),value:s(P.data),point:P.data,index:O,id:f})}).on("click",function(P,O){p.elementClick({label:t(P.data),value:s(P.data),point:P.data,index:O,pos:d3.event,id:f});d3.event.stopPropagation()}).on("dblclick",function(P,O){p.elementDblClick({label:t(P.data),value:s(P.data),point:P.data,index:O,pos:d3.event,id:f});d3.event.stopPropagation()});x.attr("fill",function(P,O){return l(P,O)}).attr("stroke",function(P,O){return l(P,O)});var I=M.append("path").each(function(O){this._current=O});d3.transition(x.select("path")).attr("d",D).attrTween("d",y);if(q){var C=D;if(e){C=d3.svg.arc().outerRadius(D.outerRadius())}M.append("g").classed("nv-label",true).each(function(Q,O){var P=d3.select(this);P.attr("transform",function(R){R.outerRadius=A+10;R.innerRadius=A+15;return"translate("+C.centroid(R)+")"});P.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);P.append("text").style("text-anchor","middle").style("fill","#000")});x.select(".nv-label").transition().attr("transform",function(O){O.outerRadius=A+10;O.innerRadius=A+15;return"translate("+C.centroid(O)+")"});x.each(function(R,O){var Q=d3.select(this);Q.select(".nv-label text").text(function(U,S){var T=(U.endAngle-U.startAngle)/(2*Math.PI);return(U.value&&T>h)?t(U.data):""});var P=Q.select("text").node().getBBox();Q.select(".nv-label rect").attr("width",P.width+10).attr("height",P.height+10).attr("transform",function(){return"translate("+[P.x-5,P.y-5]+")"})})}function L(P){var O=(P.startAngle+P.endAngle)*90/Math.PI-90;return O>90?O-180:O}function y(O){if(!n){O.innerRadius=0}var P=d3.interpolate(this._current,O);this._current=P(0);return function(Q){return D(P(Q))}}function H(O){O.innerRadius=0;var P=d3.interpolate({startAngle:0,endAngle:0},O);return function(Q){return D(P(Q))}}});return r}r.dispatch=p;r.margin=function(v){if(!arguments.length){return i}i.top=typeof v.top!="undefined"?v.top:i.top;i.right=typeof v.right!="undefined"?v.right:i.right;i.bottom=typeof v.bottom!="undefined"?v.bottom:i.bottom;i.left=typeof v.left!="undefined"?v.left:i.left;return r};r.width=function(v){if(!arguments.length){return g}g=v;return r};r.height=function(v){if(!arguments.length){return u}u=v;return r};r.values=function(v){if(!arguments.length){return m}m=v;return r};r.x=function(v){if(!arguments.length){return t}t=v;return r};r.y=function(v){if(!arguments.length){return s}s=d3.functor(v);return r};r.showLabels=function(v){if(!arguments.length){return q}q=v;return r};r.donutLabelsOutside=function(v){if(!arguments.length){return e}e=v;return r};r.donut=function(v){if(!arguments.length){return n}n=v;return r};r.id=function(v){if(!arguments.length){return f}f=v;return r};r.color=function(v){if(!arguments.length){return l}l=c.utils.getColor(v);return r};r.valueFormat=function(v){if(!arguments.length){return o}o=v;return r};r.labelThreshold=function(v){if(!arguments.length){return h}h=v;return r};return r};c.models.scatterChart=function(){var s=c.models.scatter(),p=c.models.axis(),f=c.models.axis(),h=c.models.legend(),t=c.models.legend(),w=c.models.distribution(),u=c.models.distribution();var z={top:30,right:20,bottom:50,left:60},E=null,A=null,F=c.utils.defaultColor(),r=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):s.xScale(),q=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):s.yScale(),e=false,L=false,I=true,J=!!d3.fisheye,D=0,G=false,g=true,C=function(N,M,O){return"<strong>"+M+"</strong>"},B=function(N,M,O){return"<strong>"+O+"</strong>"},n=null,K=d3.dispatch("tooltipShow","tooltipHide"),m="No Data Available.";s.xScale(r).yScale(q);p.orient("bottom").tickPadding(10);f.orient("left").tickPadding(10);w.axis("x");u.axis("y");var H,i;var l=function(P,S){var N=P.pos[0]+(S.offsetLeft||0),R=P.pos[1]+(S.offsetTop||0),O=P.pos[0]+(S.offsetLeft||0),y=q.range()[0]+z.top+(S.offsetTop||0),M=r.range()[0]+z.left+(S.offsetLeft||0),x=P.pos[1]+(S.offsetTop||0),T=p.tickFormat()(s.x()(P.point,P.pointIndex)),Q=f.tickFormat()(s.y()(P.point,P.pointIndex));if(C!=null){c.tooltip.show([O,y],C(P.series.key,T,Q,P,v),"n",1,S,"x-nvtooltip")}if(B!=null){c.tooltip.show([M,x],B(P.series.key,T,Q,P,v),"e",1,S,"y-nvtooltip")}if(n!=null){c.tooltip.show([N,R],n(P.series.key,T,Q,P,v),P.value<0?"n":"s",null,S)}};var o=[{key:"Magnify",disabled:true}];function v(x){x.each(function(S){var N=d3.select(this),U=this;var V=(E||parseInt(N.style("width"))||960)-z.left-z.right,Q=(A||parseInt(N.style("height"))||400)-z.top-z.bottom;v.update=function(){v(x)};v.container=this;if(!S||!S.length||!S.filter(function(W){return W.values.length}).length){var O=N.selectAll(".nv-noData").data([m]);O.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");O.attr("x",z.left+V/2).attr("y",z.top+Q/2).text(function(W){return W});return v}else{N.selectAll(".nv-noData").remove()}r=s.xScale();q=s.yScale();H=H||r;i=i||q;var P=N.selectAll("g.nv-wrap.nv-scatterChart").data([S]);var R=P.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+s.id());var y=R.append("g");var T=P.select("g");y.append("rect").attr("class","nvd3 nv-background");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-scatterWrap");y.append("g").attr("class","nv-distWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");P.attr("transform","translate("+z.left+","+z.top+")");if(I){h.width(V/2);P.select(".nv-legendWrap").datum(S).call(h);if(z.top!=h.height()){z.top=h.height();Q=(A||parseInt(N.style("height"))||400)-z.top-z.bottom}P.select(".nv-legendWrap").attr("transform","translate("+(V/2)+","+(-z.top)+")")}if(J){t.width(180).color(["#444"]);T.select(".nv-controlsWrap").datum(o).attr("transform","translate(0,"+(-z.top)+")").call(t)}s.width(V).height(Q).color(S.map(function(X,W){return X.color||F(X,W)}).filter(function(X,W){return !S[W].disabled}));P.select(".nv-scatterWrap").datum(S.filter(function(W){return !W.disabled})).call(s);p.scale(r).ticks(p.ticks()?p.ticks():V/100).tickSize(-Q,0);T.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")").call(p);f.scale(q).ticks(f.ticks()?f.ticks():Q/36).tickSize(-V,0);T.select(".nv-y.nv-axis").call(f);if(e){w.getData(s.x()).scale(r).width(V).color(S.map(function(X,W){return X.color||F(X,W)}).filter(function(X,W){return !S[W].disabled}));y.select(".nv-distWrap").append("g").attr("class","nv-distributionX");T.select(".nv-distributionX").attr("transform","translate(0,"+q.range()[0]+")").datum(S.filter(function(W){return !W.disabled})).call(w)}if(L){u.getData(s.y()).scale(q).width(Q).color(S.map(function(X,W){return X.color||F(X,W)}).filter(function(X,W){return !S[W].disabled}));y.select(".nv-distWrap").append("g").attr("class","nv-distributionY");T.select(".nv-distributionY").attr("transform","translate(-"+u.size()+",0)").datum(S.filter(function(W){return !W.disabled})).call(u)}if(d3.fisheye){T.select(".nv-background").attr("width",V).attr("height",Q);T.select(".nv-background").on("mousemove",M);T.select(".nv-background").on("click",function(){G=!G});s.dispatch.on("elementClick.freezeFisheye",function(){G=!G})}function M(){if(G){T.select(".nv-point-paths").style("pointer-events","all");return false}T.select(".nv-point-paths").style("pointer-events","none");var W=d3.mouse(this);r.distortion(D).focus(W[0]);q.distortion(D).focus(W[1]);T.select(".nv-scatterWrap").datum(S.filter(function(X){return !X.disabled})).call(s);T.select(".nv-x.nv-axis").call(p);T.select(".nv-y.nv-axis").call(f);T.select(".nv-distributionX").datum(S.filter(function(X){return !X.disabled})).call(w);T.select(".nv-distributionY").datum(S.filter(function(X){return !X.disabled})).call(u)}t.dispatch.on("legendClick",function(X,W){X.disabled=!X.disabled;D=X.disabled?0:2.5;T.select(".nv-background").style("pointer-events",X.disabled?"none":"all");T.select(".nv-point-paths").style("pointer-events",X.disabled?"all":"none");if(X.disabled){r.distortion(D).focus(0);q.distortion(D).focus(0);T.select(".nv-scatterWrap").call(s);T.select(".nv-x.nv-axis").call(p);T.select(".nv-y.nv-axis").call(f)}else{G=false}v(x)});h.dispatch.on("legendClick",function(Y,W,X){Y.disabled=!Y.disabled;if(!S.filter(function(Z){return !Z.disabled}).length){S.map(function(Z){Z.disabled=false;P.selectAll(".nv-series").classed("disabled",false);return Z})}v(x)});s.dispatch.on("elementMouseover.tooltip",function(W){d3.select(".nv-chart-"+s.id()+" .nv-series-"+W.seriesIndex+" .nv-distx-"+W.pointIndex).attr("y1",W.pos[1]-Q);d3.select(".nv-chart-"+s.id()+" .nv-series-"+W.seriesIndex+" .nv-disty-"+W.pointIndex).attr("x2",W.pos[0]+w.size());W.pos=[W.pos[0]+z.left,W.pos[1]+z.top];K.tooltipShow(W)});K.on("tooltipShow",function(W){if(g){l(W,U.parentNode)}});H=r.copy();i=q.copy()});return v}s.dispatch.on("elementMouseout.tooltip",function(x){K.tooltipHide(x);d3.select(".nv-chart-"+s.id()+" .nv-series-"+x.seriesIndex+" .nv-distx-"+x.pointIndex).attr("y1",0);d3.select(".nv-chart-"+s.id()+" .nv-series-"+x.seriesIndex+" .nv-disty-"+x.pointIndex).attr("x2",u.size())});K.on("tooltipHide",function(){if(g){c.tooltip.cleanup()}});v.dispatch=K;v.scatter=s;v.legend=h;v.controls=t;v.xAxis=p;v.yAxis=f;v.distX=w;v.distY=u;d3.rebind(v,s,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");v.margin=function(x){if(!arguments.length){return z}z.top=typeof x.top!="undefined"?x.top:z.top;z.right=typeof x.right!="undefined"?x.right:z.right;z.bottom=typeof x.bottom!="undefined"?x.bottom:z.bottom;z.left=typeof x.left!="undefined"?x.left:z.left;return v};v.width=function(x){if(!arguments.length){return E}E=x;return v};v.height=function(x){if(!arguments.length){return A}A=x;return v};v.color=function(x){if(!arguments.length){return F}F=c.utils.getColor(x);h.color(F);w.color(F);u.color(F);return v};v.showDistX=function(x){if(!arguments.length){return e}e=x;return v};v.showDistY=function(x){if(!arguments.length){return L}L=x;return v};v.showControls=function(x){if(!arguments.length){return J}J=x;return v};v.showLegend=function(x){if(!arguments.length){return I}I=x;return v};v.fisheye=function(x){if(!arguments.length){return D}D=x;return v};v.tooltips=function(x){if(!arguments.length){return g}g=x;return v};v.tooltipContent=function(x){if(!arguments.length){return n}n=x;return v};v.tooltipXContent=function(x){if(!arguments.length){return C}C=x;return v};v.tooltipYContent=function(x){if(!arguments.length){return B}B=x;return v};v.noData=function(x){if(!arguments.length){return m}m=x;return v};return v};c.models.scatter=function(){var t={top:0,right:0,bottom:0,left:0},C=960,u=500,E=c.utils.defaultColor(),w=Math.floor(Math.random()*100000),n=d3.scale.linear(),m=d3.scale.linear(),l=d3.scale.linear(),I=function(x){return x.x},G=function(x){return x.y},e=function(x){return x.size},q=function(x){return x.shape||"circle"},h=[],g=[],i=[],J=true,v=function(x){return !x.notActive},L=false,s=true,F=function(){return 25},D=null,B=null,K=null,p=null,A=false,N=d3.dispatch("elementClick","elementMouseover","elementMouseout"),M=true;var H,f,o,O;function r(x){x.each(function(V){var Z=C-t.left-t.right,R=u-t.top-t.bottom,z=d3.select(this);V=V.map(function(ab,aa){ab.values=ab.values.map(function(ac){ac.series=aa;return ac});return ab});var Q=(D&&B&&K)?[]:d3.merge(V.map(function(aa){return aa.values.map(function(ac,ab){return{x:I(ac,ab),y:G(ac,ab),size:e(ac,ab)}})}));n.domain(D||d3.extent(Q.map(function(aa){return aa.x}).concat(h))).range([0,Z]);m.domain(B||d3.extent(Q.map(function(aa){return aa.y}).concat(g))).range([R,0]);l.domain(K||d3.extent(Q.map(function(aa){return aa.size}).concat(i))).range(p||[16,256]);if(n.domain()[0]===n.domain()[1]||m.domain()[0]===m.domain()[1]){A=true}if(n.domain()[0]===n.domain()[1]){n.domain()[0]?n.domain([n.domain()[0]-n.domain()[0]*0.01,n.domain()[1]+n.domain()[1]*0.01]):n.domain([-1,1])}if(m.domain()[0]===m.domain()[1]){m.domain()[0]?m.domain([m.domain()[0]+m.domain()[0]*0.01,m.domain()[1]-m.domain()[1]*0.01]):m.domain([-1,1])}H=H||n;f=f||m;o=o||l;var P=z.selectAll("g.nv-wrap.nv-scatter").data([V]);var U=P.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+w+(A?" nv-single-point":""));var S=U.append("defs");var y=U.append("g");var W=P.select("g");y.append("g").attr("class","nv-groups");y.append("g").attr("class","nv-point-paths");P.attr("transform","translate("+t.left+","+t.top+")");S.append("clipPath").attr("id","nv-edge-clip-"+w).append("rect");P.select("#nv-edge-clip-"+w+" rect").attr("width",Z).attr("height",R);W.attr("clip-path",L?"url(#nv-edge-clip-"+w+")":"");function X(){if(!J){return false}var ac;var ab=d3.merge(V.map(function(ah,ag){return ah.values.filter(v).map(function(ai,aj){return[n(I(ai,aj))*(Math.random()/1000000000000+1),m(G(ai,aj))*(Math.random()/1000000000000+1),ag,aj]})}));if(s){S.append("clipPath").attr("id","nv-points-clip-"+w);var ad=P.select("#nv-points-clip-"+w).selectAll("circle").data(ab);ad.enter().append("circle").attr("r",F);ad.exit().remove();ad.attr("cx",function(ag){return ag[0]}).attr("cy",function(ag){return ag[1]});P.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+w+")")}if(M===true){var af=d3.geom.voronoi(ab).map(function(ah,ag){return{data:ah,series:ab[ag][2],point:ab[ag][3]}});var aa=P.select(".nv-point-paths").selectAll("path").data(af);aa.enter().append("path").attr("class",function(ah,ag){return"nv-path-"+ag});aa.exit().remove();aa.attr("d",function(ag){return"M"+ag.data.join(",")+"Z"});ac=aa}else{var ae=ab.map(function(ah,ag){return{data:ah,series:ab[ag][2],point:ab[ag][3]}});ac=P.select(".nv-groups").selectAll(".nv-group").selectAll("path.nv-point").data(ae).style("pointer-events","auto")}ac.on("click",function(ai){var ah=V[ai.series],ag=ah.values[ai.point];N.elementClick({point:ag,series:ah,pos:[n(I(ag,ai.point))+t.left,m(G(ag,ai.point))+t.top],seriesIndex:ai.series,pointIndex:ai.point})}).on("mouseover",function(ai){var ah=V[ai.series],ag=ah.values[ai.point];N.elementMouseover({point:ag,series:ah,pos:[n(I(ag,ai.point))+t.left,m(G(ag,ai.point))+t.top],seriesIndex:ai.series,pointIndex:ai.point})}).on("mouseout",function(aj,ai){var ah=V[aj.series],ag=ah.values[aj.point];N.elementMouseout({point:ag,series:ah,seriesIndex:aj.series,pointIndex:aj.point})})}var T=P.select(".nv-groups").selectAll(".nv-group").data(function(aa){return aa},function(aa){return aa.key});T.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(T.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();T.attr("class",function(ab,aa){return"nv-group nv-series-"+aa}).classed("hover",function(aa){return aa.hover});d3.transition(T).style("fill",function(ab,aa){return E(ab,aa)}).style("stroke",function(ab,aa){return E(ab,aa)}).style("stroke-opacity",1).style("fill-opacity",0.5);var Y=T.selectAll("path.nv-point").data(function(aa){return aa.values});Y.enter().append("path").attr("transform",function(ab,aa){return"translate("+H(I(ab,aa))+","+f(G(ab,aa))+")"}).attr("d",d3.svg.symbol().type(q).size(function(ab,aa){return l(e(ab,aa))}));Y.exit().remove();d3.transition(T.exit().selectAll("path.nv-point")).attr("transform",function(ab,aa){return"translate("+n(I(ab,aa))+","+m(G(ab,aa))+")"}).remove();Y.attr("class",function(ab,aa){return"nv-point nv-point-"+aa});d3.transition(Y).attr("transform",function(ab,aa){return"translate("+n(I(ab,aa))+","+m(G(ab,aa))+")"}).attr("d",d3.svg.symbol().type(q).size(function(ab,aa){return l(e(ab,aa))}));clearTimeout(O);O=setTimeout(X,1000);H=n.copy();f=m.copy();o=l.copy()});return r}N.on("elementMouseover.point",function(x){if(J){d3.select(".nv-chart-"+w+" .nv-series-"+x.seriesIndex+" .nv-point-"+x.pointIndex).classed("hover",true)}});N.on("elementMouseout.point",function(x){if(J){d3.select(".nv-chart-"+w+" .nv-series-"+x.seriesIndex+" .nv-point-"+x.pointIndex).classed("hover",false)}});r.dispatch=N;r.x=function(x){if(!arguments.length){return I}I=d3.functor(x);return r};r.y=function(x){if(!arguments.length){return G}G=d3.functor(x);return r};r.size=function(x){if(!arguments.length){return e}e=d3.functor(x);return r};r.margin=function(x){if(!arguments.length){return t}t.top=typeof x.top!="undefined"?x.top:t.top;t.right=typeof x.right!="undefined"?x.right:t.right;t.bottom=typeof x.bottom!="undefined"?x.bottom:t.bottom;t.left=typeof x.left!="undefined"?x.left:t.left;return r};r.width=function(x){if(!arguments.length){return C}C=x;return r};r.height=function(x){if(!arguments.length){return u}u=x;return r};r.xScale=function(x){if(!arguments.length){return n}n=x;return r};r.yScale=function(x){if(!arguments.length){return m}m=x;return r};r.zScale=function(x){if(!arguments.length){return l}l=x;return r};r.xDomain=function(x){if(!arguments.length){return D}D=x;return r};r.yDomain=function(x){if(!arguments.length){return B}B=x;return r};r.sizeDomain=function(x){if(!arguments.length){return K}K=x;return r};r.sizeRange=function(x){if(!arguments.length){return p}p=x;return r};r.forceX=function(x){if(!arguments.length){return h}h=x;return r};r.forceY=function(x){if(!arguments.length){return g}g=x;return r};r.forceSize=function(x){if(!arguments.length){return i}i=x;return r};r.interactive=function(x){if(!arguments.length){return J}J=x;return r};r.pointActive=function(x){if(!arguments.length){return v}v=x;return r};r.clipEdge=function(x){if(!arguments.length){return L}L=x;return r};r.clipVoronoi=function(x){if(!arguments.length){return s}s=x;return r};r.useVoronoi=function(x){if(!arguments.length){return M}M=x;if(M===false){s=false}return r};r.clipRadius=function(x){if(!arguments.length){return F}F=x;return r};r.color=function(x){if(!arguments.length){return E}E=c.utils.getColor(x);return r};r.shape=function(x){if(!arguments.length){return q}q=x;return r};r.id=function(x){if(!arguments.length){return w}w=x;return r};r.singlePoint=function(x){if(!arguments.length){return A}A=x;return r};return r};c.models.sparkline=function(){var i={top:2,right:0,bottom:2,left:0},f=400,r=32,g=true,o=d3.scale.linear(),n=d3.scale.linear(),q=function(s){return s.x},p=function(s){return s.y},h=c.utils.getColor(["#000"]),l,e;function m(s){s.each(function(y){var B=f-i.left-i.right,w=r-i.top-i.bottom,u=d3.select(this);o.domain(l||d3.extent(y,q)).range([0,B]);n.domain(e||d3.extent(y,p)).range([w,0]);var v=u.selectAll("g.nv-wrap.nv-sparkline").data([y]);var x=v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");var t=x.append("g");var z=v.select("g");v.attr("transform","translate("+i.left+","+i.top+")");var C=v.selectAll("path").data(function(D){return[D]});C.enter().append("path");C.exit().remove();C.style("stroke",function(E,D){return E.color||h(E,D)}).attr("d",d3.svg.line().x(function(E,D){return o(q(E,D))}).y(function(E,D){return n(p(E,D))}));var A=v.selectAll("circle.nv-point").data(function(D){return D.filter(function(F,E){return n.domain().indexOf(p(F,E))!=-1||q(F,E)==o.domain()[1]})});A.enter().append("circle").attr("class","nv-point");A.exit().remove();A.attr("cx",function(E,D){return o(q(E,D))}).attr("cy",function(E,D){return n(p(E,D))}).attr("r",2).style("stroke",function(E,D){return E.x==o.domain()[1]?"#444":E.y==n.domain()[0]?"#d62728":"#2ca02c"}).style("fill",function(E,D){return E.x==o.domain()[1]?"#444":E.y==n.domain()[0]?"#d62728":"#2ca02c"})});return m}m.margin=function(s){if(!arguments.length){return i}i.top=typeof s.top!="undefined"?s.top:i.top;i.right=typeof s.right!="undefined"?s.right:i.right;i.bottom=typeof s.bottom!="undefined"?s.bottom:i.bottom;i.left=typeof s.left!="undefined"?s.left:i.left;return m};m.width=function(s){if(!arguments.length){return f}f=s;return m};m.height=function(s){if(!arguments.length){return r}r=s;return m};m.x=function(s){if(!arguments.length){return q}q=d3.functor(s);return m};m.y=function(s){if(!arguments.length){return p}p=d3.functor(s);return m};m.xScale=function(s){if(!arguments.length){return o}o=s;return m};m.yScale=function(s){if(!arguments.length){return n}n=s;return m};m.xDomain=function(s){if(!arguments.length){return l}l=s;return m};m.yDomain=function(s){if(!arguments.length){return e}e=s;return m};m.animate=function(s){if(!arguments.length){return g}g=s;return m};m.color=function(s){if(!arguments.length){return h}h=c.utils.getColor(s);return m};return m};c.models.sparklinePlus=function(){var q=c.models.sparkline();var f={top:15,right:40,bottom:3,left:40},e=null,s=null,n,m,g=c.utils.defaultColor(),i,r=false,p=d3.format(",r"),h=d3.format(",.2f"),o="No Data Available.";function l(t){t.each(function(D){var w=d3.select(this);var J=(e||parseInt(w.style("width"))||960)-f.left-f.right,z=(s||parseInt(w.style("height"))||400)-f.top-f.bottom;l.update=function(){l(t)};l.container=this;if(!D||!D.length){var x=w.selectAll(".nv-noData").data([o]);x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");x.attr("x",f.left+J/2).attr("y",f.top+z/2).text(function(L){return L});return l}else{w.selectAll(".nv-noData").remove()}n=q.xScale();m=q.yScale();var y=w.selectAll("g.nv-wrap.nv-sparklineplus").data([D]);var A=y.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus");var v=A.append("g");var E=y.select("g");v.append("g").attr("class","nv-sparklineWrap");v.append("g").attr("class","nv-hoverArea");y.attr("transform","translate("+f.left+","+f.top+")");var G=E.select(".nv-sparklineWrap");q.width(J).height(z);G.style("stroke",function(M,L){return M.color||g(M,L)}).call(q);v.select(".nv-hoverArea").append("rect").on("mousemove",B).on("click",function(){r=!r}).on("mouseout",function(){i=null;H()});E.select(".nv-hoverArea rect").attr("transform",function(L){return"translate("+-f.left+","+-f.top+")"}).attr("width",J+f.left+f.right).attr("height",z+f.top);i=typeof i=="undefined"?null:i;var u=E.selectAll(".nv-hoverValue").data([i]);var F=u.enter().append("g").attr("class","nv-hoverValue");var C=F.append("line").attr("x1",0).attr("y1",-f.top).attr("x2",0).attr("y2",z);var K=F.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-f.top).attr("text-anchor","end").attr("dy",".9em");var I=F.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-f.top).attr("text-anchor","start").attr("dy",".9em");H();function H(){if(r){return}u.data([i]);u.transition().duration(250).style("stroke-opacity",function(L){return L===null?0:1}).style("fill-opacity",function(L){return L===null?0:1});if(i==null){return}u.attr("transform",function(L){return"translate("+n(q.x()(D[L],L))+",0)"});u.select(".nv-xValue").text(p(q.x()(D[i],i)));u.select(".nv-yValue").text(h(q.y()(D[i],i)))}function B(){if(r){return}var M=d3.event.offsetX-f.left;function L(Q,N){var R=Math.abs(q.x()(Q[0],0)-N);var P=0;for(var O=0;O<Q.length;O++){if(Math.abs(q.x()(Q[O],O)-N)<R){R=Math.abs(q.x()(Q[O],O)-N);P=O}}return P}i=L(D,Math.round(n.invert(M)));H()}});return l}l.sparkline=q;d3.rebind(l,q,"x","y","xScale","yScale");l.margin=function(t){if(!arguments.length){return f}f.top=typeof t.top!="undefined"?t.top:f.top;f.right=typeof t.right!="undefined"?t.right:f.right;f.bottom=typeof t.bottom!="undefined"?t.bottom:f.bottom;f.left=typeof t.left!="undefined"?t.left:f.left;return l};l.width=function(t){if(!arguments.length){return e}e=t;return l};l.height=function(t){if(!arguments.length){return s}s=t;return l};l.xTickFormat=function(t){if(!arguments.length){return p}p=t;return l};l.yTickFormat=function(t){if(!arguments.length){return h}h=t;return l};l.noData=function(t){if(!arguments.length){return o}o=t;return l};return l};c.models.stackedAreaChart=function(){var z=c.models.stackedArea(),n=c.models.axis(),e=c.models.axis(),g=c.models.legend(),q=c.models.legend();var s={top:30,right:25,bottom:50,left:60},u=null,t=null,v=c.utils.defaultColor(),A=true,w=true,f=true,m=function(D,C,G,F,E){return"<h3>"+D+"</h3><p>"+G+" on "+C+"</p>"},p,o,l=d3.format(",.2f"),i="No Data Available.",B=d3.dispatch("tooltipShow","tooltipHide");n.orient("bottom").tickPadding(5);e.orient("left");var h=function(H,D){var G=H.pos[0]+(D.offsetLeft||0),F=H.pos[1]+(D.offsetTop||0),C=n.tickFormat()(z.x()(H.point,H.pointIndex)),I=e.tickFormat()(z.y()(H.point,H.pointIndex)),E=m(H.series.key,C,I,H,r);c.tooltip.show([G,F],E,H.value<0?"n":"s",null,D)};function r(x){x.each(function(G){var C=d3.select(this),J=this;var L=(u||parseInt(C.style("width"))||960)-s.left-s.right,F=(t||parseInt(C.style("height"))||400)-s.top-s.bottom;r.update=function(){r(x)};r.container=this;if(!G||!G.length||!G.filter(function(M){return M.values.length}).length){var D=C.selectAll(".nv-noData").data([i]);D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");D.attr("x",s.left+L/2).attr("y",s.top+F/2).text(function(M){return M});return r}else{C.selectAll(".nv-noData").remove()}p=z.xScale();o=z.yScale();var E=C.selectAll("g.nv-wrap.nv-stackedAreaChart").data([G]);var y=E.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");var H=E.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-stackedWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");if(w){g.width(L/2);H.select(".nv-legendWrap").datum(G).call(g);if(s.top!=g.height()){s.top=g.height();F=(t||parseInt(C.style("height"))||400)-s.top-s.bottom}H.select(".nv-legendWrap").attr("transform","translate("+(L/2)+","+(-s.top)+")")}if(A){var K=[{key:"Stacked",disabled:z.offset()!="zero"},{key:"Stream",disabled:z.offset()!="wiggle"},{key:"Expanded",disabled:z.offset()!="expand"}];q.width(280).color(["#444","#444","#444"]);H.select(".nv-controlsWrap").datum(K).attr("transform","translate(0,"+(-s.top)+")").call(q)}E.attr("transform","translate("+s.left+","+s.top+")");z.width(L).height(F);var I=H.select(".nv-stackedWrap").datum(G);d3.transition(I).call(z);n.scale(p).ticks(L/100).tickSize(-F,0);H.select(".nv-x.nv-axis").attr("transform","translate(0,"+F+")");d3.transition(H.select(".nv-x.nv-axis")).call(n);e.scale(o).ticks(z.offset()=="wiggle"?0:F/36).tickSize(-L,0).setTickFormat(z.offset()=="expand"?d3.format("%"):l);d3.transition(H.select(".nv-y.nv-axis")).call(e);z.dispatch.on("areaClick.toggle",function(M){if(G.filter(function(N){return !N.disabled}).length===1){G=G.map(function(N){N.disabled=false;return N})}else{G=G.map(function(O,N){O.disabled=(N!=M.seriesIndex);return O})}x.transition().call(r)});g.dispatch.on("legendClick",function(N,M){N.disabled=!N.disabled;if(!G.filter(function(O){return !O.disabled}).length){G.map(function(O){O.disabled=false;return O})}x.transition().call(r)});q.dispatch.on("legendClick",function(N,M){if(!N.disabled){return}K=K.map(function(O){O.disabled=true;return O});N.disabled=false;switch(N.key){case"Stacked":z.style("stack");break;case"Stream":z.style("stream");break;case"Expanded":z.style("expand");break}x.transition().call(r)});B.on("tooltipShow",function(M){if(f){h(M,J.parentNode)}})});return r}z.dispatch.on("tooltipShow",function(x){if(!Math.round(z.y()(x.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}x.pos=[x.pos[0]+s.left,x.pos[1]+s.top],B.tooltipShow(x)});z.dispatch.on("tooltipHide",function(x){B.tooltipHide(x)});B.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});r.dispatch=B;r.stacked=z;r.legend=g;r.controls=q;r.xAxis=n;r.yAxis=e;d3.rebind(r,z,"x","y","size","xScale","yScale","xDomain","yDomain","sizeDomain","interactive","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");r.margin=function(x){if(!arguments.length){return s}s.top=typeof x.top!="undefined"?x.top:s.top;s.right=typeof x.right!="undefined"?x.right:s.right;s.bottom=typeof x.bottom!="undefined"?x.bottom:s.bottom;s.left=typeof x.left!="undefined"?x.left:s.left;return r};r.width=function(x){if(!arguments.length){return getWidth}u=x;return r};r.height=function(x){if(!arguments.length){return getHeight}t=x;return r};r.color=function(x){if(!arguments.length){return v}v=c.utils.getColor(x);g.color(v);z.color(v);return r};r.showControls=function(x){if(!arguments.length){return A}A=x;return r};r.showLegend=function(x){if(!arguments.length){return w}w=x;return r};r.tooltip=function(x){if(!arguments.length){return m}m=x;return r};r.tooltips=function(x){if(!arguments.length){return f}f=x;return r};r.tooltipContent=function(x){if(!arguments.length){return m}m=x;return r};r.noData=function(x){if(!arguments.length){return i}i=x;return r};e.setTickFormat=e.tickFormat;e.tickFormat=function(x){if(!arguments.length){return l}l=x;return e};return r};c.models.stackedArea=function(){var l={top:0,right:0,bottom:0,left:0},h=960,w=500,m=c.utils.defaultColor(),g=Math.floor(Math.random()*100000),v=function(x){return x.x},u=function(x){return x.y},f="stack",n="zero",i="default",p="linear",t=false,s,r,e=c.models.scatter(),o=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");e.size(2.2).sizeDomain([2.2]);function q(x){x.each(function(G){var J=h-l.left-l.right,D=w-l.top-l.bottom,z=d3.select(this);s=e.xScale();r=e.yScale();G=G.map(function(L,M){L.values=L.values.map(function(O,N){O.index=N;O.stackedY=L.disabled?0:u(O,N);return O});return L});G=d3.layout.stack().order(i).offset(n).values(function(L){return L.values}).x(v).y(function(L){return L.stackedY}).out(function(M,L,N){M.display={y:N,y0:L}})(G);var B=z.selectAll("g.nv-wrap.nv-stackedarea").data([G]);var F=B.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea");var E=F.append("defs");var y=F.append("g");var H=B.select("g");y.append("g").attr("class","nv-areaWrap");y.append("g").attr("class","nv-scatterWrap");B.attr("transform","translate("+l.left+","+l.top+")");e.width(J).height(D).x(v).y(function(L){return L.display.y+L.display.y0}).forceY([0]).color(G.map(function(M,L){return M.color||m(M,L)}).filter(function(M,L){return !G[L].disabled}));var C=H.select(".nv-scatterWrap").datum(G.filter(function(L){return !L.disabled}));d3.transition(C).call(e);E.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect");B.select("#nv-edge-clip-"+g+" rect").attr("width",J).attr("height",D);H.attr("clip-path",t?"url(#nv-edge-clip-"+g+")":"");var A=d3.svg.area().x(function(M,L){return s(v(M,L))}).y0(function(L){return r(L.display.y0)}).y1(function(L){return r(L.display.y+L.display.y0)}).interpolate(p);var I=d3.svg.area().x(function(M,L){return s(v(M,L))}).y0(function(L){return r(L.display.y0)}).y1(function(L){return r(L.display.y0)});var K=H.select(".nv-areaWrap").selectAll("path.nv-area").data(function(L){return L});K.enter().append("path").attr("class",function(M,L){return"nv-area nv-area-"+L}).on("mouseover",function(M,L){d3.select(this).classed("hover",true);o.areaMouseover({point:M,series:M.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:L})}).on("mouseout",function(M,L){d3.select(this).classed("hover",false);o.areaMouseout({point:M,series:M.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:L})}).on("click",function(M,L){d3.select(this).classed("hover",false);o.areaClick({point:M,series:M.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:L})});d3.transition(K.exit()).attr("d",function(M,L){return I(M.values,L)}).remove();K.style("fill",function(M,L){return M.color||m(M,L)}).style("stroke",function(M,L){return M.color||m(M,L)});d3.transition(K).attr("d",function(M,L){return A(M.values,L)});e.dispatch.on("elementMouseover.area",function(L){H.select(".nv-chart-"+g+" .nv-area-"+L.seriesIndex).classed("hover",true)});e.dispatch.on("elementMouseout.area",function(L){H.select(".nv-chart-"+g+" .nv-area-"+L.seriesIndex).classed("hover",false)})});return q}e.dispatch.on("elementClick.area",function(x){o.areaClick(x)});e.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+l.left,x.pos[1]+l.top],o.tooltipShow(x)});e.dispatch.on("elementMouseout.tooltip",function(x){o.tooltipHide(x)});q.dispatch=o;q.scatter=e;d3.rebind(q,e,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","forceX","forceY","forceSize","clipVoronoi","clipRadius");q.x=function(x){if(!arguments.length){return v}v=d3.functor(x);return q};q.y=function(x){if(!arguments.length){return u}u=d3.functor(x);return q};q.margin=function(x){if(!arguments.length){return l}l.top=typeof x.top!="undefined"?x.top:l.top;l.right=typeof x.right!="undefined"?x.right:l.right;l.bottom=typeof x.bottom!="undefined"?x.bottom:l.bottom;l.left=typeof x.left!="undefined"?x.left:l.left;return q};q.width=function(x){if(!arguments.length){return h}h=x;return q};q.height=function(x){if(!arguments.length){return w}w=x;return q};q.clipEdge=function(x){if(!arguments.length){return t}t=x;return q};q.color=function(x){if(!arguments.length){return m}m=c.utils.getColor(x);return q};q.offset=function(x){if(!arguments.length){return n}n=x;return q};q.order=function(x){if(!arguments.length){return i}i=x;return q};q.style=function(x){if(!arguments.length){return f}f=x;switch(f){case"stack":q.offset("zero");q.order("default");break;case"stream":q.offset("wiggle");q.order("inside-out");break;case"stream-center":q.offset("silhouette");q.order("inside-out");break;case"expand":q.offset("expand");q.order("default");break}return q};q.interpolate=function(x){if(!arguments.length){return p}p=x;return p};return q}})();